[{"title":"2024 ICPC æˆéƒ½I","path":"/2024/11/02/2024icpcæˆéƒ½I/","content":"åŸé¢˜é“¾æ¥ é¢˜æ„ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º çš„åºåˆ— ï¼Œé—®æœ‰å¤šå°‘ä¸ªå¥½çš„åˆ’åˆ†ã€‚ ä¸€ä¸ªå¤§å°ä¸º çš„å¥½çš„åˆ’åˆ†å®šä¹‰ä¸ºå°† åˆ’åˆ†ä¸º ä¸ªéƒ¨åˆ†ï¼ˆæœ€åä¸€éƒ¨åˆ†å¯èƒ½å°‘äº ä¸ªæ•°ï¼‰ï¼Œæ¯ä¸ªéƒ¨åˆ†å†…éƒ¨éƒ½å•è°ƒä¸é™ã€‚ ç°åœ¨æœ‰ æ¬¡ä¿®æ”¹ï¼Œæ¯æ¬¡ä¿®æ”¹å°† ä¿®æ”¹ä¸º ï¼Œè®¡ç®—ä¿®æ”¹å‰å’Œæ¯æ¬¡ä¿®æ”¹åå¥½çš„åˆ†åŒºçš„æ•°é‡ã€‚ é¢˜è§£é¦–å…ˆä¸€ä¸ªå®¹æ˜“å¾—åˆ°çš„æ€§è´¨æ˜¯ï¼Œå¦‚æœä¸€ä¸ªæ•° æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ çš„æ‰€æœ‰å› æ•°å‡æ»¡è¶³æ¡ä»¶ã€‚ åŒæ—¶ä¸¤ä¸ªæ•° æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ ä¹Ÿæ»¡è¶³æ¡ä»¶ã€‚ è¿™æç¤ºæˆ‘ä»¬å»æ‰¾ä¸€ä¸ªæœ€å¤§çš„ ï¼Œç„¶åæ‰€æœ‰æ»¡è¶³æ¡ä»¶æ•°çš„é›†åˆå³ä¸º æ˜¯çš„å› æ•° ã€‚ ç”±äºæ¯ä¸€æ®µå†…éƒ¨éƒ½è¦å•è°ƒä¸é™ï¼Œåˆ™æ¯ä¸€ä¸ª çš„åœ°æ–¹ä¸€å®šæ˜¯ä¸€ä¸ªåˆ†ç•Œç‚¹ï¼Œæ‰¾å‡ºæ‰€æœ‰è¿™æ ·çš„ä½ç½®ï¼Œç„¶åå®ƒä»¬çš„æœ€å¤§å…¬å› æ•°å°±æ˜¯æœ€å¤§çš„æ»¡è¶³æ¡ä»¶çš„ ã€‚ ç”¨çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´gcdå³å¯ã€‚ æ—¶é—´å¤æ‚åº¦ ã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293#include &lt;bits/stdc++.h&gt;#define endl \" \"using namespace std;constexpr int N = 2e5 + 10;int aa[N];struct node { int l, r, v;} tr[N &lt;&lt; 2];void pushup(int u) { tr[u].v = __gcd(tr[u &lt;&lt; 1].v, tr[u &lt;&lt; 1 | 1].v); }void build(int u, int l, int r){ if (l == r) { tr[u] = {l, r, aa[l]}; return; } int mid = l + r &gt;&gt; 1; tr[u] = {l, r, 0}; build(u &lt;&lt; 1, l, mid); build(u &lt;&lt; 1 | 1, mid + 1, r); pushup(u);}void modify(int u, int l, int r, int v){ if (tr[u].l &gt;= l &amp;&amp; tr[u].r &lt;= r) { tr[u].v = v; return; } int mid = tr[u].l + tr[u].r &gt;&gt; 1; if (l &lt;= mid) modify(u &lt;&lt; 1, l, r, v); if (mid &lt; r) modify(u &lt;&lt; 1 | 1, l, r, v); pushup(u);}void solve(){ int n, q; cin &gt;&gt; n &gt;&gt; q; vector&lt;int&gt; a(n + 1); for (int i = 1; i &lt;= n; i++) { cin &gt;&gt; a[i]; } vector&lt;int&gt; b(n + 1); for (int i = 1; i &lt; n; i++) { aa[i] = a[i] &gt; a[i + 1] ? i : 0; } vector&lt;int&gt; d(n + 1); for (int i = 1; i &lt;= n; i++) { for (int j = i; j &lt;= n; j += i) { d[j]++; } } d[0] = n; build(1, 1, n); cout &lt;&lt; d[tr[1].v] &lt;&lt; endl; while (q--) { int p, v; cin &gt;&gt; p &gt;&gt; v; if (p - 1 &gt;= 1) { if (a[p - 1] &lt;= a[p] &amp;&amp; a[p - 1] &gt; v) { modify(1, p - 1, p - 1, p - 1); } else if (a[p - 1] &gt; a[p] &amp;&amp; a[p - 1] &lt;= v) { modify(1, p - 1, p - 1, 0); } } if (p + 1 &lt;= n) { if (a[p] &lt;= a[p + 1] &amp;&amp; v &gt; a[p + 1]) { modify(1, p, p, p); } else if (a[p] &gt; a[p + 1] &amp;&amp; v &lt;= a[p + 1]) { modify(1, p, p, 0); } } a[p] = v; cout &lt;&lt; d[tr[1].v] &lt;&lt; endl; }}int main(){ ios::sync_with_stdio(false), cin.tie(nullptr); int t; cin &gt;&gt; t; while (t--) { solve(); } return 0;}"},{"title":"Codeforces Round 983 (Div. 2) E. Balanced","path":"/2024/11/02/CF2032E/","content":"åŸé¢˜é“¾æ¥ é¢˜æ„ç»™ä¸€ä¸ªé•¿åº¦ä¸º ï¼ˆä¸” ä¸ºå¥‡æ•°ï¼‰ é¦–å°¾ç›¸è¿çš„æ•°ç»„ ï¼Œæ¯æ¬¡æ“ä½œä½ å¯ä»¥å°† åˆ†åˆ«åŠ ä¸Š æ³¨æ„ æ—¶ï¼Œ æŒ‡çš„æ˜¯ ï¼ŒåŒç†ï¼Œ æ—¶ï¼Œ æŒ‡çš„æ˜¯ ã€‚ è¯·ä½ æ‰¾å‡ºä¸€ä¸ªæ“ä½œåºåˆ—ï¼Œå³æ¯ä¸ªä½ç½®ä¸Šéœ€è¦æ“ä½œå‡ æ¬¡ï¼Œå°† ä¸­æ‰€æœ‰å…ƒç´ å˜æˆç›¸åŒå€¼ã€‚ é¢˜è§£è®¾ç¬¬ ä¸ªä½ç½®ä¸Šéœ€è¦æ“ä½œ æ¬¡ï¼Œæœ€åå¾—åˆ°çš„å€¼ä¸º ï¼Œåˆ™æœ‰ï¼š \\begin{pmatrix} 2&1&0&\\cdots&0&1\\\\ 1&2&1&\\cdots&0&0\\\\ \\vdots& & & & &\\vdots\\\\ 1&0&\\cdots&0&1&2 \\end{pmatrix} \\begin{pmatrix} x_1\\\\x_2\\\\\\vdots\\\\x_n \\end{pmatrix} = \\begin{pmatrix} V-a_1\\\\V-a_2\\\\\\vdots\\\\V-a_n \\end{pmatrix}ä½œå·®åˆ†å¯å¾— \\begin{pmatrix} 1&-1&-1&0&0&\\cdots&0&1\\\\ 1&1&-1&-1&0&\\cdots&0&0\\\\ 0&1&1&-1&-1&\\cdots&0&0\\\\ \\vdots& & & & & & &\\vdots\\\\ -1&-1&0&0&0&\\cdots&1&1 \\end{pmatrix} \\begin{pmatrix} x_1\\\\x_2\\\\\\vdots\\\\x_n \\end{pmatrix} =- \\begin{pmatrix} a_1-a_2\\\\a_2-a_3\\\\\\vdots\\\\a_n-a_1 \\end{pmatrix}å³ ï¼Œç”±äº å·²çŸ¥ï¼Œè®°ä¸º ï¼Œå†å°†æ­£è´Ÿä¸¤ä¸¤ç»„åˆï¼Œå³ ï¼Œå†ä»¤ ï¼Œåˆ™ ã€‚ æ˜¾ç„¶æœ‰ 2\\sum_{i=1}^n y_i=\\sum_{i=1}^nb_i\\tag{1} ç„¶åå– ä¸­å¶æ•°é¡¹å¯ä»¥å‘ç°ï¼Œç»“åˆ ä¹Ÿæ˜¯å¶æ•°çš„æ¡ä»¶ï¼Œæœ‰ y_1+y_2+\\cdots+y_{n-1}=b_2+b_4+\\cdots+b_{n-1}å‘ç°è¿˜å·®ä¸€é¡¹ ï¼ŒåŠ ä¸Š ï¼Œå¾—åˆ° y_1+\\sum_{i=1}^ny_i=\\sum_{iä¸ºå¶æ•°}^nb_i+b_1 \\tag{2}äºæ˜¯ç»“åˆ å¯ä»¥è§£å¾— ï¼Œå†ä¾æ¬¡ä»£å…¥ ä¸­æ±‚å¾—æ‰€æœ‰ ã€‚ ç„¶åä»»å– çš„å€¼ï¼Œé€šè¿‡ æ±‚çš„ ä¸ºå¥‡æ•°æ—¶çš„ ï¼Œç„¶åé€šè¿‡ è½¬ç§»åˆ° ä¸ºå¶æ•°çš„æƒ…å†µï¼Œå› è€Œæ±‚å¾—æ‰€æœ‰ çš„å€¼ï¼Œæœ€åå¦‚æœæœ‰å°äº â€‹ çš„å€¼åˆ™å…¨éƒ¨åŠ ä¸Šä¸€ä¸ªåç½®å³å¯ã€‚ è€Œæ— è§£çš„æƒ…å†µå³ä¸º ä¸ºå¥‡æ•°ï¼Œä¸èƒ½å¾—åˆ°åˆæ³•çš„ ï¼Œå› æ­¤æ— è§£ã€‚ æ—¶é—´å¤æ‚åº¦ï¼š ä»£ç æ¨¡æ‹Ÿä¸€éä¸Šè¿°è¿‡ç¨‹å³å¯ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;void solve(){ int n; cin &gt;&gt; n; vector&lt;ll&gt; a(n + 1); for (int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i], a[i] = -a[i]; vector&lt;ll&gt; b(n + 1); for (int i = 1; i &lt;= n; i++) { b[i] = a[i] - a[i == n ? 1 : i + 1]; } ll sum = accumulate(b.begin() + 1, b.end(), 0ll); if (sum &amp; 1) { cout &lt;&lt; -1 &lt;&lt; \" \"; return; } sum /= 2; vector&lt;ll&gt; y(n + 1); ll tmp = 0; for (int i = 2; i &lt;= n; i += 2) { tmp += b[i]; } y[1] = tmp + b[1] - sum; for (int i = 2; i &lt;= n; i++) { y[i] = b[i] - y[i - 1]; } vector&lt;ll&gt; x(n + 1); x[1] = 0; for (int i = 3; i &lt;= n; i += 2) { x[i] = x[i - 2] - y[i - 2]; } x[n - 1] = y[n - 1] + x[1]; for (int i = n - 3; i &gt;= 1; i -= 2) { x[i] = y[i] + x[i + 2]; } ll mn = *min_element(x.begin() + 1, x.end()); for (int i = 1; i &lt;= n; i++) { x[i] -= mn; cout &lt;&lt; x[i] &lt;&lt; \" \"[i == n]; }}int main(){ ios::sync_with_stdio(false), cin.tie(0); int t; cin &gt;&gt; t; while (t--) { solve(); } return 0;}"},{"title":"CF77C","path":"/2024/10/23/CF77C/","content":"åŸé¢˜è¿æ¥tag: æ ‘å½¢dp, è´ªå¿ƒ, *2100 é¢˜æ„ç»™å®šä¸€æ£µå¤§å°ä¸º çš„æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªæµ·ç‹¸ï¼Œæ¯æ¬¡å»åˆ°ä¸€ä¸ªç»“ç‚¹å¿…é¡»å–èµ°ä¸€ä¸ªæµ·ç‹¸ï¼Œå¦‚æœç›®çš„èŠ‚ç‚¹çš„å€¼ä¸º0åˆ™æ— æ³•å‰å¾€ï¼Œæœ€å¤šèƒ½å¤Ÿå–èµ°å¤šå°‘ä¸ªæµ·ç‹¸ã€‚ é¢˜è§£é¦–å…ˆå¯ä»¥å‘ç°æ¯ä¸ªå­æ ‘å¦‚æœèƒ½å¤Ÿæœ€ä¼˜æ˜¾ç„¶é—®é¢˜å°±ä¸€å®šæ˜¯æœ€ä¼˜è§£ï¼Œæ‰€ä»¥è”æƒ³åˆ°æ ‘å½¢ dpã€‚è®¾ ä¸ºä» å‡ºå‘ï¼Œåœ¨å…¶å­æ ‘ä¸­çš„æœ€ä¼˜è§£ã€‚ è€ƒè™‘çŠ¶æ€è½¬ç§»ï¼Œçˆ¶èŠ‚ç‚¹çš„ dp å€¼æ˜¾ç„¶æ˜¯ç”±å­æ ‘çš„è´¡çŒ®åŠ ä¸Šåˆ°è¾¾å­æ ‘æ‰€äº§ç”Ÿçš„è´¡çŒ®ï¼ˆå› ä¸ºæ¯æ¬¡éƒ½è¦ä»çˆ¶èŠ‚ç‚¹å‡ºå‘æœ€åå›åˆ°çˆ¶èŠ‚ç‚¹ï¼‰ã€‚åŒæ—¶ï¼Œç”±äºçˆ¶èŠ‚ç‚¹æµ·ç‹¸æ•°çš„é™åˆ¶ï¼Œåªèƒ½è®¿é—®ä¸€å®šæ•°é‡çš„å­æ ‘ï¼Œå› æ­¤å¯ä»¥è´ªå¿ƒçš„é€‰å–è´¡çŒ®å¤§çš„å­æ ‘è¿›è¡Œè®¿é—®ã€‚ å¦‚æœçˆ¶èŠ‚ç‚¹è®¿é—®ç©æ‰€æœ‰å­æ ‘è¿˜æœ‰å‰©ä½™çš„æµ·ç‹¸ï¼Œåˆ™å¯ä»¥ç»§ç»­å’Œå„¿å­ä¸­çš„å‰©ä½™è¿›è¡Œæ¥å›è®¿é—®ï¼Œå°†æµ·ç‹¸æ•°è€—å°½ä¸ºæ­¢ã€‚ ç”±äºæ¯æ¬¡å‰è¿›åˆ°ç›¸é‚»çš„è¾¹å¿…é¡»ä¿è¯ç›®çš„èŠ‚ç‚¹æœ‰æµ·ç‹¸ï¼Œå› æ­¤é™¤äº†æ ¹èŠ‚ç‚¹ä¹‹å¤–çš„æ‰€æœ‰ç‚¹ï¼Œè€ƒè™‘å®ƒä»¬çš„å­æ ‘çš„ä¸€ä¸ªå‰ææ˜¯å¿…é¡»èƒ½å¤Ÿä»æ ¹èŠ‚ç‚¹èµ°è¿‡æ¥ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»è¦èŠ±è´¹ä¸€ä¸ªæµ·ç‹¸ï¼Œå› æ­¤è¦å¯¹éæ ¹èŠ‚ç‚¹çš„æ‰€æœ‰èŠ‚ç‚¹çš„æµ·ç‹¸æ•°é‡è¿›è¡Œå‡ä¸€æ“ä½œã€‚ æ—¶é—´å¤æ‚åº¦ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;bits/stdc++.h&gt;using ll = long long;using namespace std;int main(){ int n; cin &gt;&gt; n; vector&lt;ll&gt; a(n + 1); vector&lt;vector&lt;int&gt;&gt; G(n + 1); for (int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i]; for (int i = 1; i &lt; n; i++) { int u, v; cin &gt;&gt; u &gt;&gt; v; G[u].push_back(v), G[v].push_back(u); } int rt; cin &gt;&gt; rt; vector&lt;ll&gt; dp(n + 1); auto dfs = [&amp;](auto dfs, int u, int fa) -&gt; void { if (u != rt) a[u]--; vector&lt;int&gt; tmp; for (int v : G[u]) { if (v == fa) continue; dfs(dfs, v, u); tmp.push_back(v); } sort(tmp.begin(), tmp.end(), [&amp;](int a, int b) { return dp[a] &gt; dp[b]; }); for (int i = 0; i &lt; tmp.size() &amp;&amp; a[u]; i++) { dp[u] += dp[tmp[i]] + 2; a[u]--; } if (a[u]) { for (int v : tmp) { if (a[v]) { int t = min(a[v], a[u]); dp[u] += 2 * t; a[u] -= t; } } } }; dfs(dfs, rt, 0); cout &lt;&lt; dp[rt] &lt;&lt; endl; return 0;}"},{"title":"ABC374F","path":"/2024/10/19/ABC374F/","content":"åŸé¢˜è¿æ¥ tag: DP é¢˜æ„ ä¸ªè®¢å•ï¼Œåˆ†åˆ«åœ¨ å¤©ä¸‹è¾¾ã€‚ æœ€å¤šæœ‰ ä¸ªè®¢å•å¯ä»¥åŒæ—¶å‘è´§ è®¢å• åªèƒ½åœ¨ â€‹ å¤©æˆ–ä¹‹åå‘è´§ æ¯æ¬¡å‘è´§è¦ å¤©åæ‰èƒ½å†æ¬¡å‘è´§ æ¯ä¸ªè®¢å•çš„ä¸æ»¡æ„åº¦ä¸ºå®é™…å‘è´§æ—¶é—´ ä¸è®¢å•ä¸‹è¾¾æ—¶é—´ä¹‹å·®ï¼Œå³ ã€‚ æ±‚æ‰€æœ‰è®¢å•çš„ä¸æ»¡æ„åº¦ä¹‹å’Œçš„æœ€å°å€¼ã€‚ é¢˜è§£"},{"title":"Codeforces Round 975 (Div. 2)","path":"/2024/10/16/CF2019/","content":"A. Max Plus Sizeé¢˜æ„æ±‚å¥‡æ•°ä½ä¹‹å’Œå’Œå¶æ•°ä½ä¹‹å’Œçš„æœ€å¤§å€¼ é¢˜è§£ç•¥ ä»£ç 1234567891011121314151617181920212223242526272829303132333435#include &lt;bits/stdc++.h&gt;using ll = long long;void solve(){ int n; std::cin &gt;&gt; n; std::vector&lt;int&gt; a(n); for (int i = 0; i &lt; n; i++) std::cin &gt;&gt; a[i]; int mx = 0, ans = 0, cnt = 0; for (int i = 0; i &lt; n; i += 2) { mx = std::max(mx, a[i]); cnt++; } ans = std::max(ans, cnt + mx); mx = 0, cnt = 0; for (int i = 1; i &lt; n; i += 2) { mx = std::max(mx, a[i]); cnt++; } ans = std::max(mx + cnt, ans); std::cout &lt;&lt; ans &lt;&lt; \" \";}int main(){ std::ios::sync_with_stdio(false), std::cin.tie(0); int tt; std::cin &gt;&gt; tt; while (tt--) { solve(); } return 0;} B. All Pairs Segmentsé¢˜æ„åœ¨æ•°è½´ä¸Šç»™å‡º ä¸ªä¸åŒçš„ç‰¹æ®Šç‚¹ï¼Œä¸¤ä¸¤ä¹‹é—´æœ‰ä¸€æ¡çº¿æ®µï¼Œé—®è¿™äº›ç‚¹ä¸­æœ‰å¤šå°‘ä¸ªç‚¹æ°å¥½è¢« æ¡çº¿æ®µè¦†ç›–ã€‚ é¢˜è§£æ¯ä¸¤ä¸ªç‰¹æ®Šç‚¹ä¸­é—´çš„ç‚¹è¢«è¦†ç›–æ¬¡æ•°å³å·¦å³ä¸¤è¾¹ç‰¹æ®Šç‚¹çš„ä¸ªæ•°ä¹‹ç§¯ï¼Œç‰¹æ®Šç‚¹æ‰€è¢«è¦†ç›–æ¬¡æ•°ä¸ºå·¦å³ä¸¤è¾¹ç‰¹æ®Šç‚¹çš„ä¸ªæ•°ï¼ˆä¸åŒ…æ‹¬è‡ªå·±ï¼‰ä¹‹ç§¯å†åŠ ä¸Š ã€‚ ä»£ç 12345678910111213141516171819202122232425262728293031323334353637#include &lt;bits/stdc++.h&gt;using ll = long long;void solve(){ int n, q; std::cin &gt;&gt; n &gt;&gt; q; std::vector&lt;ll&gt; a(n + 1); for (int i = 1; i &lt;= n; i++) std::cin &gt;&gt; a[i]; std::unordered_map&lt;ll, ll&gt; mp; auto calc = [&amp;](ll x) -&gt; ll { return (x - 1) * (n - x + 1); }; for (int i = 2; i &lt;= n; i++) { mp[calc(i)] += a[i] - a[i - 1] - 1; } for (int i = 1; i &lt;= n; i++) { mp[calc(i) + 1ll * (n - i)]++; } while (q--) { ll k; std::cin &gt;&gt; k; std::cout &lt;&lt; mp[k] &lt;&lt; \" \"[q == 0]; }}int main(){ std::ios::sync_with_stdio(false), std::cin.tie(0); int tt; std::cin &gt;&gt; tt; while (tt--) { solve(); } return 0;} C. Cards Partitioné¢˜æ„ç»™å‡º ç§å¡ç‰Œï¼Œæ¯ç§ç‰Œæœ‰ å¼ ï¼Œç°åœ¨æœ‰ æ¬¡è´­ä¹°ä»»æ„ä¸€å¼ ç‰Œçš„æœºä¼šï¼Œæ±‚æœ€å¤§èƒ½å¤Ÿç»„æˆå¤šå¤§çš„deckã€‚è¦æ±‚æ¯ä¸ªdeckç§ç‰Œçš„ç§ç±»äº’ä¸ç›¸åŒä¸”æ‰€æœ‰deckçš„å¤§å°ç›¸ç­‰ï¼Œå¹¶ä¸”æ‰€æœ‰çš„ç‰Œéƒ½è¦å±äºä¸€ä¸ªdeckã€‚ é¢˜è§£deckçš„å¤§å°è‚¯å®šä¸å¤§äº ï¼Œè€ƒè™‘ä»å¤§åˆ°å°æšä¸¾ç­”æ¡ˆã€‚ deckçš„å¤§å°ä¸€å®šèƒ½å¤Ÿæ•´é™¤æœ€ç»ˆå¡ç‰Œçš„æ•°é‡å³ ï¼ŒåŒæ—¶éœ€è¦æ»¡è¶³ ã€‚ è¿˜æœ‰ä¸€ä¸ªéœ€è¦æ»¡è¶³çš„æ¡ä»¶æ˜¯ çš„æ•°é‡ ï¼Œå¦åˆ™æ ¹æ®æŠ½å±‰åŸç†ä¸€å®šæœ‰ä¸€ä¸ªdeckä¸­åŒ…å«ç›¸åŒçš„å¡ç‰Œã€‚ æ—¶é—´å¤æ‚åº¦ï¼š ã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233#include &lt;bits/stdc++.h&gt;using ll = long long;void solve(){ ll n, k; std::cin &gt;&gt; n &gt;&gt; k; std::vector&lt;ll&gt; a(n + 1); ll sum = 0; for (int i = 1; i &lt;= n; i++) std::cin &gt;&gt; a[i], sum += a[i]; sort(a.begin() + 1, a.end(), [&amp;](int x, int y) { return x &gt; y; }); ll mx = *std::max_element(a.begin() + 1, a.end()); auto check = [&amp;](int x) -&gt; bool { return (sum + k) / x &gt;= mx &amp;&amp; (x - sum % x) % x &lt;= k; }; for (int i = n; i &gt;= 1; i--) { if (check(i)) { std::cout &lt;&lt; i &lt;&lt; \" \"; return; } }}int main(){ std::ios::sync_with_stdio(false), std::cin.tie(0); int tt; std::cin &gt;&gt; tt; while (tt--) { solve(); } return 0;} D. Speedbreakerå…¨åœºmvpï¼Œé€šè¿‡æ•°é‡ä¸åˆ° E çš„ä¸€åŠã€‚ é¢˜æ„ä¸€æ’æœ‰ ä¸ªåŸå¸‚ï¼Œä»å·¦åˆ°å³ç¼–å·ä¸º ã€‚ åœ¨ 1 æ—¶åˆ»ï¼Œä½ æ­£å¥½å¾æœäº†ä¸€åº§åŸå¸‚ï¼Œç§°ä¸ºèµ·å§‹åŸå¸‚ã€‚ åœ¨ 2,3,â€¦,n æ—¶åˆ»ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ªä¸è¿„ä»Šä¸ºæ­¢å¾æœçš„åŸå¸‚ç›¸é‚»çš„åŸå¸‚å¹¶å¾æœå®ƒã€‚ å¦‚æœåœ¨æ¯ä¸ª i ä¸­ï¼Œä½ åœ¨ä¸æ™šäº â€‹ çš„æ—¶é—´å¾æœäº†åŸå¸‚ i ï¼Œé‚£ä¹ˆä½ å°±èµ¢äº†ã€‚è·èƒœç­–ç•¥å¯èƒ½å­˜åœ¨ï¼Œä¹Ÿå¯èƒ½ä¸å­˜åœ¨ï¼Œè¿™ä¹Ÿå–å†³äºèµ·å§‹åŸå¸‚ã€‚æœ‰å¤šå°‘ä¸ªèµ·å§‹åŸå¸‚å¯ä»¥è®©ä½ è·èƒœï¼Ÿ é¢˜è§£é¦–å…ˆå¦‚æœå•ç‹¬è€ƒè™‘æŸä¸€ä¸ªç‚¹ï¼Œåˆ™èƒ½åœ¨ æ—¶åˆ»ä¹‹å‰åˆ°è¾¾è¯¥ç‚¹çš„åŒºé—´ä¸º ï¼Œå› æ­¤åˆæ³•çš„ç‚¹æ‰€ç»„æˆçš„åŒºé—´ä¸€å®šä½äº ã€‚ ä¸å¦¨å¤§èƒ†çŒœæƒ³è¿™ä¸ªå°±æ˜¯ç­”æ¡ˆã€‚ ä»£å…¥æ ·ä¾‹å‘ç°è¿™ä¸ªåšæ³•åœ¨ç¬¬äºŒä¸ªæ ·ä¾‹å¤„ï¼ˆï¼‰é”™è¯¯ï¼Œå› æ­¤å……åˆ†æ€§ä¸æ»¡è¶³ã€‚ é€šè¿‡è§‚å¯Ÿè¿™ä¸€ç»„â€œå¥‡æ€ªçš„â€æ ·ä¾‹ï¼Œå‘ç°æœ‰ä¸¤ä¸ª 5 å®ƒä»¬çš„è·ç¦»æ˜¯ 5ï¼Œä¹Ÿå°±æ˜¯ä½äºä¸€ä¸ªé•¿åº¦è‡³å°‘ä¸º 6 çš„åŒºé—´ï¼Œæ— è®ºä»å“ªä¸ªç‚¹å‡ºå‘éƒ½ä¸èƒ½åœ¨åˆæ³•æ—¶é—´å†…éå†åˆ°è¿™ä¸¤ä¸ªç‚¹ã€‚ å®é™…ä¸Šï¼Œå¯¹äºæ—¶é—´ å†…èƒ½å¤Ÿåˆ°è¾¾çš„ç‚¹æ¥å°†ï¼ŒåŒ…å«å®ƒä»¬çš„åŒºé—´é•¿åº¦ä¸€å®šä¸å¤§äº ï¼Œä¹Ÿå°±æ˜¯æ»¡è¶³ä¸Šè¿°ä¸¤ä¸ªæ¡ä»¶çš„ç‚¹å°±æ˜¯æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„èµ·å§‹ç‚¹ã€‚ è¯æ˜è¯´ä¸å¤ªæ¸…æ¥šï¼Œå‚è€ƒç§æ ‘ã€‚ä½†æ˜¯ç¬¬äºŒä¸ªæ¡ä»¶å¦‚æœæ»¡è¶³çš„è¯ï¼Œåœ¨æ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶çš„ç‚¹ä¸­ä»»æ„æ‰¾ä¸€ä¸ªç‚¹ä½œä¸ºèµ·å§‹ç‚¹ï¼Œä¼˜å…ˆå‘å‰©ä½™æ—¶é—´å°‘çš„ç‚¹èµ°ä¸€å®šä¸åŠ£ï¼Œä»è€Œç­–ç•¥ä¸€å®šå­˜åœ¨ã€‚ æ—¶é—´å¤æ‚åº¦ï¼šã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;bits/stdc++.h&gt;using ll = long long;void solve(){ int n; std::cin &gt;&gt; n; std::vector&lt;int&gt; a(n + 1); for (int i = 1; i &lt;= n; i++) std::cin &gt;&gt; a[i]; int l = 1, r = n; std::vector&lt;std::vector&lt;int&gt;&gt; mp(n + 1); for (int i = 1; i &lt;= n; i++) { l = std::max(l, i - a[i] + 1); r = std::min(r, i + a[i] - 1); mp[a[i]].push_back(i); } int L = n, R = 1; for (int i = 1; i &lt;= n; i++) { if (mp[i].empty()) continue; L = std::min(L, mp[i][0]); R = std::max(R, mp[i].back()); if (R - L + 1 &gt; i) { std::cout &lt;&lt; 0 &lt;&lt; ' '; return; } } std::cout &lt;&lt; std::max(0, r - l + 1) &lt;&lt; ' ';}int main(){ std::ios::sync_with_stdio(false), std::cin.tie(0); int tt; std::cin &gt;&gt; tt; while (tt--) { solve(); } return 0;} E. Tree Pruningé¢˜æ„ç»™å®šä¸€æ£µå¤§å°ä¸º æ ‘ï¼Œæ¯æ¬¡å¯ä»¥åˆ é™¤ä¸€ä¸ªå¶å­èŠ‚ç‚¹ä»¥åŠå®ƒæ‰€è¿çš„è¾¹ï¼Œé—®æœ€å°‘éœ€è¦å¤šå°‘æ¬¡è¿™æ ·çš„æ“ä½œèƒ½å¤Ÿä½¿æ ‘ä¸Šå‰©ä¸‹çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹å…¨åœ¨åŒä¸€æ·±åº¦ï¼ˆæ ¹èŠ‚ç‚¹ä¸º1å·èŠ‚ç‚¹ï¼‰ã€‚ é¢˜è§£ä»¥æ ·ä¾‹ä¸ºä¾‹æ¥è¯´æ˜ åœ¨è¿™æ£µæ ‘ä¸Šï¼Œæœ€å°‘å¯ä»¥åˆ é™¤ 5 æ¡è¾¹ä½¿å¾—æ‰€æœ‰å¶å­èŠ‚ç‚¹çš„æ·±åº¦ç›¸åŒï¼Œåˆ†åˆ«æ˜¯ 11ï¼Œ9ï¼Œ3ï¼Œ10ï¼Œ4ã€‚æœ€ç»ˆçš„å¶å­èŠ‚ç‚¹æ·±åº¦å‡ä¸º4. å¯ä»¥å‘ç°æˆ‘ä»¬åˆ é™¤çš„ç‚¹å¹¶ä¸éƒ½æ˜¯æ·±åº¦å¤§äºæœ€åæ·±åº¦çš„èŠ‚ç‚¹ï¼Œä¹Ÿæœ‰å°äºæœ€åæ·±åº¦çš„èŠ‚ç‚¹ï¼Œä¾‹å¦‚4ï¼Œ10. å¦‚æœæˆ‘ä»¬æšä¸¾æœ€ç»ˆçš„æ·±åº¦ï¼Œåˆ™åœ¨åŸå›¾ä¸Šæ‰€æœ‰æ·±åº¦å¤§äºè¯¥æ·±åº¦çš„ç‚¹éƒ½éœ€è¦è¢«åˆ é™¤ï¼Œå¯ä»¥é€šè¿‡ç»Ÿè®¡å­æ ‘å¤§å°çš„æ–¹å¼æ¥å¾—åˆ°ç­”æ¡ˆã€‚ è‡³äºæ·±åº¦å°äºæœ€ç»ˆæ·±åº¦çš„å¶å­èŠ‚ç‚¹ï¼Œå¦‚æœæˆ‘ä»¬ä»è¿™äº›å¶å­èŠ‚ç‚¹å‘ä¸Šè€ƒè™‘ï¼Œè¿˜éœ€è¦ç»´æŠ¤åˆ°ç¬¬ä¸€ä¸ªå­æ ‘æ·±åº¦å¤§äºå½“å‰æšä¸¾æ·±åº¦çš„ç¥–å…ˆï¼Œå¾ˆéš¾åœ¨æœ‰é™æ—¶é—´å¤æ‚åº¦å†…å®ç°ã€‚ ä½†æ˜¯è¿™ç»™æˆ‘ä»¬ä¸€ä¸ªå¯å‘ï¼Œå¦‚æœå¤„ç†å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„ä¸­å„¿å­èƒ½å¤Ÿåˆ°è¾¾çš„æœ€å¤§æ·±åº¦ï¼Œé‚£ä¹ˆå¦‚æœè¯¥èŠ‚ç‚¹çš„å„¿å­éƒ½ä¸èƒ½è¾¾åˆ°å½“å‰æšä¸¾çš„æ·±åº¦ï¼Œé‚£ä¹ˆå¯ä»¥å°†å½“å‰èŠ‚ç‚¹çš„å­æ ‘å…¨éƒ¨åˆ é™¤ï¼Œè¿™æ ·ä»ç„¶åªç”¨ç»´æŠ¤å­æ ‘å¤§å°å’Œå­æ ‘æ‰€èƒ½åˆ°çš„æœ€å¤§æ·±åº¦ï¼Œä¸€édfs å³å¯ã€‚æ³¨æ„ç”¨å·®åˆ†å°†è¿™é‡Œçš„è´¡çŒ®åŠ åˆ°å¤§äºå½“å‰æšä¸¾æ·±åº¦çš„ç­”æ¡ˆä¸­ã€‚ æ—¶é—´å¤æ‚åº¦ï¼š ã€‚ ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;bits/stdc++.h&gt;using namespace std;#define endl ' '#define ll long long#define PII pair&lt;int, int&gt;#define pi acos(-1.0)void solve(){ int n; cin &gt;&gt; n; vector&lt;vector&lt;int&gt;&gt; G(n + 1); for (int i = 1, u, v; i &lt; n; i++) { cin &gt;&gt; u &gt;&gt; v; G[u].push_back(v), G[v].push_back(u); } vector&lt;int&gt; sz(n + 1), dep(n + 1), up(n + 1), son_dep(n + 1); vector&lt;int&gt; ans(n + 1), b(n + 2); int mx_dep = 0; auto dfs = [&amp;](auto dfs, int u, int fa) -&gt; void { sz[u] = 1; son_dep[u] = dep[u]; mx_dep = max(dep[u], mx_dep); for (int v : G[u]) { if (v == fa) continue; dep[v] = dep[u] + 1; dfs(dfs, v, u); sz[u] += sz[v]; son_dep[u] = max(son_dep[v], son_dep[u]); } ans[dep[u]] += sz[u] - 1; b[son_dep[u] + 1]++; }; dfs(dfs, 1, 0); for (int i = 1; i &lt;= mx_dep; i++) { b[i] += b[i - 1]; } for (int i = 0; i &lt;= mx_dep; i++) ans[i] += b[i]; cout &lt;&lt; *min_element(ans.begin(), ans.begin() + mx_dep + 1) &lt;&lt; endl;}int main(){ ios::sync_with_stdio(false), cin.tie(nullptr); int tt; cin &gt;&gt; tt; while (tt--) { solve(); } return 0;}"},{"title":"All-Ukrainian School Olympiad in Informatics A. Gift","path":"/2024/10/12/CF76A/","content":"åŸé¢˜é“¾æ¥ tag: æœ€å°ç”Ÿæˆæ ‘ï¼Œè´ªå¿ƒï¼Œ*2200 é¢˜æ„ç»™å®šä¸€ä¸ª ä¸ªç‚¹ï¼Œ æ¡è¾¹çš„å›¾ï¼ŒåŒæ—¶ç»™å®šä¸¤ä¸ªæ­£æ•´æ•° ï¼Œæ¯æ¡è¾¹æœ‰ ä¸¤ä¸ªæƒé‡ï¼Œæ±‚å›¾çš„ä¸€æ£µç”Ÿæˆæ ‘ ï¼Œä½¿å¾— â€‹ æœ€å°ï¼Œæ±‚å‡ºè¿™ä¸ªæœ€å°å€¼ã€‚ é¢˜è§£è€ƒè™‘æš´åŠ›çš„åšæ³•ï¼Œç”±äºæ˜¯åŒå˜é‡æœ€ä¼˜åŒ–é—®é¢˜ï¼Œè€ƒè™‘æšä¸¾æŸä¸€ä¸ªå˜é‡å¯¹å¦å¤–ä¸€ä¸ªå˜é‡è¿›è¡Œä¼˜åŒ–ã€‚åœ¨æœ¬é¢˜ä¸­å¯ä»¥æšä¸¾æœ€å¤§çš„ å€¼ï¼Œç”¨æ‰€æœ‰å°äº çš„è¾¹å»ºå›¾ï¼Œç„¶ååœ¨è¿™å¼ å›¾ä¸Šä»¥æœ€å°åŒ– è·‘ æœ€å°ç”Ÿæˆæ ‘ã€‚è¿™æ ·åšçš„æ—¶é—´å¤æ‚åº¦ä¸º ã€‚ è€ƒè™‘å¦‚ä½•ä¼˜åŒ–ï¼Œå¯ä»¥å‘ç°ä»¥ä¸‹æ€§è´¨ï¼š å¦‚æœä¸€ä¸ªè¾¹åœ¨ä¸Šä¸€æ¬¡æšä¸¾ çš„æ—¶å€™æ²¡æœ‰è¢«é€‰ä¸­ï¼Œé‚£ä¹ˆåœ¨åç»­çš„æšä¸¾ï¼ˆå‡è®¾æ˜¯ä»å°åˆ°å¤§æšä¸¾ å€¼ï¼‰ä¸­ä¸€å®šä¸ä¼šè¢«é€‰ä¸­ã€‚ å› ä¸ºå‰é¢å·²ç»å¯ä»¥é€‰æ‹©ä¸€äº›æ‹¥æœ‰æ›´å° çš„è¾¹æ¥è¿æ¥ä½¿ç›¸åŒçš„ä¸€äº›ç‚¹è¿é€šï¼Œè€Œä¸”å¯é€‰çš„è¾¹ä¼šè¶Šæ¥è¶Šå¤šï¼Œè‚¯å®šæ²¡æœ‰å¿…è¦é€‰å½“å‰çš„è¾¹ï¼Œç›´æ¥åˆ æ‰å³å¯ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ¯ä¸€è½®æ‰€å‰©ä¸‹çš„è¾¹åªæœ‰æœ€å¤š æ¡ã€‚æ—¶é—´å¤æ‚åº¦é™ä¸º ï¼Œå¤§çº¦ ã€‚ å¦‚æœè¦ç»§ç»­ä¼˜åŒ–ï¼Œç”±äºæ¯æ¬¡æšä¸¾ å€¼æ—¶ç›¸å¯¹äºä¸Šä¸€è½®åªä¼šå¤šåŠ å…¥ä¸€æ¡è¾¹ï¼Œä¸ç”¨æ¯æ¬¡éƒ½é‡æ–°æ’åºç„¶åè·‘ ï¼Œåªéœ€è¦åœ¨ä¸Šä¸€æ¬¡å¾—åˆ°çš„è¾¹é›†ä¸­æŒ‰ç…§æ’å…¥æ’åºçš„æ–¹å¼æ’å…¥è¿™æ¡è¾¹ï¼Œç„¶åå†è·‘ ï¼Œå¹¶å°†è¿™ä¸€è½®å¾—åˆ°çš„è¾¹é›†ä¼ é€’ç»™ä¸‹ä¸€è½®ã€‚ æ—¶é—´å¤æ‚åº¦ ã€‚ ä»£ç In queueä¸­â€¦â€¦ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879#include &lt;bits/stdc++.h&gt;using namespace std;#define endl ' '#define ll long long#define PII pair&lt;int, int&gt;#define pi acos(-1.0)constexpr ll inf = 0x7fffffffffffffffll;struct edge { int u, v; ll g, s; bool operator==(const edge&amp; a) const { return u == a.u &amp;&amp; v == a.v &amp;&amp; g == a.g &amp;&amp; s == a.s; } bool operator&lt;(const edge&amp; a) const { return s &lt; a.s; }};struct DSU { std::vector&lt;int&gt; p; DSU(int n) { p.resize(n + 1); std::iota(p.begin(), p.end(), 0); } int find(int x) { if (p[x] != x) p[x] = find(p[x]); return p[x]; } bool same(int a, int b) { return find(a) == find(b); } void merge(int a, int b) { p[find(a)] = find(b); }};int main(){ ios::sync_with_stdio(false), cin.tie(nullptr); int n, m; ll G, S; cin &gt;&gt; n &gt;&gt; m; cin &gt;&gt; G &gt;&gt; S; vector&lt;edge&gt; e; for (int i = 1; i &lt;= m; i++) { int u, v; ll g, s; cin &gt;&gt; u &gt;&gt; v &gt;&gt; g &gt;&gt; s; if (u == v) continue; e.push_back({u, v, g, s}); } sort(e.begin(), e.end(), [](const edge&amp; a, const edge&amp; b) { return a.g &lt; b.g; }); vector&lt;edge&gt; cur; vector&lt;edge&gt; past; ll ans = inf; for (int i = 0; i &lt; e.size(); i++) { cur.assign(past.begin(), past.end()); cur.push_back(e[i]); for (int j = cur.size() - 1; j &gt;= 1; j--) { if (cur[j].s &lt; cur[j - 1].s) swap(cur[j], cur[j - 1]); } past.clear(); int cnt = 0; DSU T(n); ll max_g = 0, max_s = 0; for (int j = 0; j &lt; cur.size(); j++) { auto [u, v, g, s] = cur[j]; if (!T.same(u, v)) { T.merge(u, v); past.push_back(cur[j]); max_g = max(max_g, g), max_s = max(max_s, s); cnt++; if (cnt == n - 1) break; } } if (cnt == n - 1) ans = min(ans, G * max_g + S * max_s); } ans = ans == inf ? -1 : ans; cout &lt;&lt; ans &lt;&lt; endl; return 0;}"},{"title":"Codeforces Round 976 (Div. 2) and Divide By Zero 9.0","path":"/2024/10/11/CF2020/","content":"é“¾æ¥ VPèµ›æ—¶ ABCDï¼Œè¡¥é¢˜EF åˆ†æ•°ï¼š800 - 1200 - 1400 - 1800 - 2000 - 2900 Aã€Bã€Cæ²¡ä»€ä¹ˆå¥½è¯´çš„ã€‚ Dé¢˜èµ›æ—¶å¡äº†ï¼Œæ²¡æƒ³åˆ° è¿™ä¸ªæ¡ä»¶æ€ä¹ˆç”¨ï¼ŒæŠ€å·§ +1 Eé¢˜å›é¡¾äº†ä¸€ä¸‹ä¸€ä¸ªè¾ƒä¸ºç»å…¸çš„æ¦‚ç‡dpã€‚ Fé¢˜æ­£å¥½å¤ä¹ ä¸€ä¸‹å‰æ®µæ—¶é—´åˆšå­¦ä¼šçš„ min_25 ç­›ï¼ˆç¡®å®å¥½ç”¨ï¼Œä¹Ÿé¡ºä¾¿æ•´ç†äº†ä¸€ä¸‹ min_25 çš„æ¿å­ã€‚ A. Find Minimum Operationsé¢˜æ„ç»™å®šä¸¤ä¸ªæ•´æ•° ï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥ä» ä¸Šå‡å» çš„éè´Ÿæ•´æ•°å¹‚ï¼Œæ±‚å°† å˜æˆ çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚ é¢˜è§£å¦‚æœ ï¼Œæ˜¾ç„¶éœ€è¦ æ¬¡ã€‚ å¦åˆ™é¢„å¤„ç†å‡ºæ‰€æœ‰å°äº çš„ çš„å¹‚ï¼Œæ¯æ¬¡åœ¨äºŒåˆ†æ‰¾æœ€å¤§çš„ä¸è¶…è¿‡å½“å‰ çš„å¹‚å‡å»ã€‚å¦‚æœæœ€å ï¼Œç›´æ¥å°†ç­”æ¡ˆåŠ ä¸Šå‰©ä¸‹çš„ å³å¯ã€‚ æ—¶é—´å¤æ‚åº¦ï¼š ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;bits/stdc++.h&gt;using namespace std;#define endl ' '#define ll long longvoid solve(){ ll n, k; cin &gt;&gt; n &gt;&gt; k; vector&lt;ll&gt; a; ll t = k; a.push_back(1); if (k != 1) { while (t &lt;= n) { a.push_back(t); t *= k; } } int cnt = 0; while (n) { int l = 0, r = a.size() - 1; while (l &lt; r) { int mid = (l + r + 1) &gt;&gt; 1; if (a[mid] &lt;= n) l = mid; else r = mid - 1; } n -= a[l]; cnt++; if (a[l] == 1) { cnt += n; break; } } cout &lt;&lt; cnt &lt;&lt; endl;}int main(){ ios::sync_with_stdio(false), cin.tie(nullptr); int tt; cin &gt;&gt; tt; while (tt--) { solve(); } return 0;} B. Brightness Beginsé¢˜æ„æœ‰ ä¸ªç¯æ³¡ï¼Œç¼–å·ä¸º ï¼Œæœ€å¼€å§‹æ‰€æœ‰ç¯éƒ½æ˜¯äº®çš„ï¼Œç„¶åè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š å¯¹äº ï¼Œåè½¬æ‰€æœ‰ ç¯æ³¡ã€‚ æ‰§è¡Œå®Œæ‰€æœ‰æ“ä½œåï¼Œå°†ä¼šæœ‰ä¸€äº›ç¯æ³¡æ˜¯äº®çš„ã€‚ æ‰¾å‡ºæœ€å°çš„ ä½¿å¾—æ‰§è¡Œå®Œæ“ä½œåæ°å¥½æœ‰ â€‹ ä¸ªç¯æ³¡æ˜¯äº®çš„ã€‚ é¢˜è§£æ¯ä¸ªç¯æ³¡åªä¼šè¢«è‡ªå·±çš„å› æ•°æ“ä½œç¿»è½¬ï¼Œå¦‚æœä¸€ä¸ªæ•°çš„å› æ•°æ˜¯å¶æ•°ï¼Œåˆ™æ“ä½œå®Œåä»ç„¶æ˜¯äº®çš„ã€‚å› æ•°ä¸ºå¥‡æ•°å½“ä¸”ä»…å½“è¿™ä¸ªæ•°æ˜¯å®Œå…¨å¹³æ–¹æ•°ã€‚ å› ä¸ºåŸé¢˜å¯ä»¥å˜æˆæ‰¾å‡ºæœ€å°çš„ ä½¿å¾— ä¸­æ°å¥½æœ‰ ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚ æ—¶é—´å¤æ‚åº¦ï¼š ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;bits/stdc++.h&gt;using namespace std;#define endl ' '#define ll long longvoid solve(){ ll k; cin &gt;&gt; k; auto check = [&amp;](ll x) { ll l = 1, r = 2e9; while (l &lt; r) { ll mid = (l + r + 1) &gt;&gt; 1; if (mid * mid &lt;= x) l = mid; else r = mid - 1; } return l &lt;= x - k; }; ll l = 1, r = 4e18; while (l &lt; r) { ll mid = (l + r) &gt;&gt; 1; if (check(mid)) r = mid; else l = mid + 1; } cout &lt;&lt; l &lt;&lt; endl;}int main(){ ios::sync_with_stdio(false), cin.tie(nullptr); int tt; cin &gt;&gt; tt; while (tt--) { solve(); } return 0;} C. Bitwise Balancingé¢˜æ„ç»™å®šä¸‰ä¸ªéè´Ÿæ•´æ•° ï¼Œæ±‚æ–¹ç¨‹çš„è§£ï¼Œæ— è§£æ‰“å° -1ã€‚ é¢˜è§£è€ƒè™‘æ‹†ä½ï¼Œå¦‚æœ ä¸ŠæŸä¸€ä½æ˜¯1ï¼Œåˆ™ ä¸Šè¿™ä¸€ä½å¿…ä¸º1ï¼Œ ä¸Šè¿™ä¸€ä½å¿…ä¸º 0ï¼Œå› ä¸ºä¸å¯èƒ½å‡ºç° ä¸Šè¿™ä¸€ä½ä¸º0ï¼Œ ä¸Šè¿™ä¸€ä½ä¸º 1çš„æƒ…å†µã€‚ å¦‚æœ ä¸ŠæŸä¸€ä½æ˜¯0ï¼Œåˆ™ä¸¤è€…åœ¨è¿™ä¸€ä½ä¸Šå¿…ç„¶ç›¸ç­‰ã€‚ åˆ†æƒ…å†µè®¨è®ºå³å¯ã€‚ æ—¶é—´å¤æ‚åº¦ï¼š ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;bits/stdc++.h&gt;using namespace std;#define endl ' '#define ll long longvoid solve(){ ll b, c, d; cin &gt;&gt; b &gt;&gt; c &gt;&gt; d; ll ans = 0; for (int i = 0; i &lt;= 62; i++) { if ((d &gt;&gt; i) &amp; 1) { if (!((b &gt;&gt; i) &amp; 1)) { if ((c &gt;&gt; i) &amp; 1) { cout &lt;&lt; -1 &lt;&lt; endl; return; } else ans += (1ll &lt;&lt; i); } } else { if ((b &gt;&gt; i) &amp; 1) { if (!((c &gt;&gt; i) &amp; 1)) { cout &lt;&lt; -1 &lt;&lt; endl; return; } else { ans += (1ll &lt;&lt; i); } } } } // assert((ans | b) - (ans &amp; c) == d); cout &lt;&lt; ans &lt;&lt; endl;}int main(){ ios::sync_with_stdio(false), cin.tie(nullptr); int tt; cin &gt;&gt; tt; while (tt--) { solve(); } return 0;} D. Connect the Dotsé¢˜æ„æœ‰ è¿™äº›ç‚¹ï¼Œèµ·åˆéƒ½æ˜¯å­¤ç«‹ç‚¹ï¼Œæ¥ä¸‹æ¥ æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œé€‰æ‹©ä¸‰ä¸ªæ•´æ•° ï¼Œç„¶åè¿æ¥ è¿™äº›ç‚¹ï¼Œä½¿å…¶è¿é€šã€‚ æ‰§è¡Œå®Œæ‰€æœ‰æ“ä½œåï¼Œé—®è¿™äº›ç‚¹å½¢æˆäº†å¤šå°‘ä¸ªè¿é€šå—ã€‚ é¢˜è§£å‘ç° å¾ˆå°ï¼Œæœ€å¤§åªæœ‰10ï¼Œè€ƒè™‘ç»´æŠ¤æ¯ä¸ªç‚¹åé¢åä¸ªç‚¹æ˜¯å¦ä¸å®ƒè¿é€šï¼Œè¿é€šå¯ä»¥ç›´æ¥ç”¨å¹¶æŸ¥é›†ç»´æŠ¤ã€‚ ç”±äºæ¯æ¬¡æ“ä½œæ¶‰åŠå¤šä¸ªç‚¹ï¼Œä¸ºäº†é™ä½æ—¶é—´å¤æ‚åº¦ï¼Œæ¯æ¬¡å°†ä» å¼€å§‹æ‰“æ ‡è®°ï¼Œå½“è®¡ç®—å®Œ å’Œä»–åé¢åä¸ªç‚¹çš„è¾¹ä¹‹åï¼Œå°† çš„æ ‡è®°ä¼ é€’ç»™ ï¼Œç›´åˆ°åºåˆ—çš„ç»“å°¾ç‚¹ã€‚ æ—¶é—´å¤æ‚åº¦ï¼š ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263#include &lt;bits/stdc++.h&gt;using namespace std;struct DSU { std::vector&lt;int&gt; p; DSU(int n) { p.resize(n + 1); std::iota(p.begin(), p.end(), 0); } int find(int x) { if (p[x] != x) { p[x] = find(p[x]); } return p[x]; } bool same(int a, int b) { return find(a) == find(b); } void merge(int a, int b) { p[find(a)] = find(b); }};void solve(){ int n, m; cin &gt;&gt; n &gt;&gt; m; DSU T(n); int a, d, k; vector&lt;vector&lt;int&gt;&gt; tag(n + 1, vector&lt;int&gt;(11)); for (int i = 1; i &lt;= m; i++) { cin &gt;&gt; a &gt;&gt; d &gt;&gt; k; tag[a][d]++; tag[a + k * d][d]--; } for (int i = 1; i &lt;= n; i++) { for (int j = 1; j &lt;= 10; j++) { if (tag[i][j] &gt; 0) { T.merge(i, i + j); tag[i + j][j] += tag[i][j]; } } } int ans = 0; unordered_set&lt;int&gt; st; for (int i = 1; i &lt;= n; i++) st.insert(T.find(i)); cout &lt;&lt; st.size() &lt;&lt; endl;}int main(){ ios::sync_with_stdio(false), cin.tie(nullptr); int tt; cin &gt;&gt; tt; while (tt--) { solve(); } return 0;} E. Expected Poweré¢˜æ„ç»™å®šä¸€ä¸ªæ•°ç»„ å’Œæ¦‚ç‡æ•°ç»„ ï¼Œæ¯ä¸ª æœ‰ çš„æ¦‚ç‡è¢«æ’å…¥åˆ°å¯é‡é›† ä¸­ã€‚ æ±‚ ã€‚ å…¶ä¸­ è¡¨ç¤º ä¸­æ‰€æœ‰å…ƒç´ çš„å¼‚æˆ–å’Œã€‚ é¢˜è§£è§‚å¯Ÿåˆ° èŒƒå›´å¾ˆå°ï¼Œäºæ˜¯ çš„èŒƒå›´ä¹Ÿä¸€å®šæ˜¯ ï¼Œäºæ˜¯ å¯ä»¥è¡¨ç¤ºä¸ºè€Œ å¯ä»¥ç”¨ç»å…¸çš„æ¦‚ç‡ dp æ±‚è§£ï¼š è®¾ ä¸ºè€ƒè™‘å‰ ä¸ªæ•°ï¼Œé€‰æ‹©ä¸€äº›æ•°ä½¿å¾—å¼‚æˆ–å’Œä¸º çš„æ¦‚ç‡ï¼Œäºæ˜¯æœ‰è½¬ç§»æ–¹ç¨‹ï¼šç›´æ¥è®¡ç®—å³å¯ï¼Œæ³¨æ„åˆ° åªä¼šä» è½¬ç§»è€Œæ¥ï¼Œå¯ä»¥æ»šåŠ¨æ‰ä¸€ç»´ã€‚ æ—¶é—´å¤æ‚åº¦ï¼š ã€‚ ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;bits/stdc++.h&gt;using namespace std;#define endl ' '#define ll long longconstexpr ll mod = 1e9 + 7;constexpr ll mu = 285700002;void solve(){ int n; cin &gt;&gt; n; vector&lt;ll&gt; a(n + 1), p(n + 1); ll B = 0; for (int i = 1; i &lt;= n; i++) { cin &gt;&gt; a[i]; B = max(B, __lg(a[i])); } B++; for (int i = 1; i &lt;= n; i++) cin &gt;&gt; p[i], p[i] = (p[i] * mu) % mod; vector&lt;ll&gt; dp(1024); dp[0] = 1; for (int i = 1; i &lt;= n; i++) { vector&lt;ll&gt; nxt(1024); for (int j = 0; j &lt; 1024; j++) { nxt[j] = (nxt[j] + (dp[j] * (1 - p[i] + mod) % mod) % mod) % mod; nxt[j ^ a[i]] = (nxt[j ^ a[i]] + dp[j] * p[i] % mod) % mod; } for (int j = 0; j &lt; 1024; j++) dp[j] = nxt[j]; } ll ans = 0; for (int i = 1; i &lt; (1 &lt;&lt; B); i++) { ans = (ans + ((1ll * i * i) % mod) * dp[i] % mod) % mod; } cout &lt;&lt; ans &lt;&lt; endl;}int main(){ ios::sync_with_stdio(false), cin.tie(nullptr); int tt; cin &gt;&gt; tt; while (tt--) { solve(); } return 0;} F. Count Leavestag ï¼šmin_25ç­› é¢˜æ„åŸé¢˜é¢˜æ„å¯åŒ–ä¸ºï¼š æ±‚ ã€‚ å…¶ä¸­ ï¼Œçš„å› æ•°ä¸ªæ•° ã€‚ é¢˜è§£é¦–å…ˆä¸éš¾å‘ç°å½“ç»™å®š æ—¶ï¼Œå¦‚æœ åˆ™ ï¼Œä¹Ÿå°±æ˜¯è¯´ æ»¡è¶³ç§¯æ€§å‡½æ•°ã€‚ è€ƒè™‘ ä¸­ ä¸ºè´¨æ•°æ—¶ï¼Œ çš„å€¼ç›¸å½“äºæ±‚æœ‰å¤šå°‘æ¡é•¿åº¦ä¸º çš„è·¯å¾„ä½¿å¾— ä¸­å§‹ç»ˆæœ‰ ï¼Œ ä¸ºç´ æ•°æ—¶ï¼Œè¿™æ ·çš„è·¯å¾„åªä¼šæœ‰ æ¡ã€‚ è€ƒè™‘ å…¶ä¸­ ä¸ºç´ æ•°ï¼Œåˆ™è¿™æ ·çš„è·¯å¾„æœ‰ ç§ï¼Œè€Œ æ˜¯å¤šé¡¹å¼å½¢å¼ï¼Œå› æ­¤æœ‰ â€‹ ï¼Œè€ƒè™‘ç”¨ min_25 ç­›æ±‚å‰ç¼€å’Œã€‚ æ—¶é—´å¤æ‚åº¦ï¼š ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115#include &lt;bits/stdc++.h&gt;using namespace std;#define endl ' '#define ll long longconstexpr ll mod = 1e9 + 7;constexpr int N = 1e6 + 10;ll qpow(ll aa, int bb){ ll res = 1; while (bb) { if (bb &amp; 1) res = (res * aa) % mod; aa = (aa * aa) % mod; bb &gt;&gt;= 1; } return res;}struct Combnum { vector&lt;ll&gt; fac, ifac; int n; void init(int _n) { this-&gt;n = _n; fac.resize(n + 1, 0), ifac.resize(n + 1, 0); fac[0] = 1; for (int i = 1; i &lt;= n; i++) fac[i] = fac[i - 1] * i % mod; ifac[n] = qpow(fac[n], mod - 2); for (int i = n - 1; i &gt;= 0; i--) { ifac[i] = ifac[i + 1] * (i + 1) % mod; } } ll C(ll i, ll j) { if (i &lt; j) return 0; return (fac[i] * ifac[j] % mod) * ifac[i - j] % mod; }} c;void solve(){ ll n, K, d, cp, cnt = 0, tot = 0; cin &gt;&gt; n &gt;&gt; K &gt;&gt; d; vector&lt;ll&gt; primes, sum, w, id1, id2, g; vector&lt;bool&gt; st; cp = c.C(K + d, d); ll sq = sqrt(n); primes.assign(2 * sq + 7, 0); st.assign(2 * sq + 7, false); g.assign(2 * sq + 7, 0); w.assign(2 * sq + 7, 0); id1.assign(2 * sq + 7, 0); id2.assign(2 * sq + 7, 0); sum.assign(2 * sq + 7, 0); auto sieve = [&amp;](int n) -&gt; void { for (int i = 2; i &lt;= n; i++) { if (!st[i]) primes[++cnt] = i, sum[cnt] = (sum[cnt - 1] + cp) % mod; for (int j = 1; j &lt;= cnt &amp;&amp; i * primes[j] &lt;= n; j++) { st[i * primes[j]] = true; if (i % primes[j] == 0) break; } } }; sieve(sq); for (ll l = 1, r; l &lt;= n; l = r + 1) { r = min(n, n / (n / l)); w[++tot] = n / l; g[tot] = cp * (w[tot] % mod - 1) % mod; if (w[tot] &lt;= sq) id1[w[tot]] = tot; else id2[n / w[tot]] = tot; } for (int j = 1; j &lt;= cnt; j++) { for (int i = 1; i &lt;= tot &amp;&amp; primes[j] * primes[j] &lt;= w[i]; i++) { ll tmp = w[i] / primes[j]; int p = tmp &lt;= sq ? id1[tmp] : id2[n / tmp]; g[i] = (g[i] - (g[p] - sum[j - 1] + mod) % mod + mod) % mod; } } auto S = [&amp;](auto S, ll i, ll j) -&gt; ll { if (primes[j] &gt;= i) return 0; ll p = i &lt;= sq ? id1[i] : id2[n / i]; ll ans = (g[p] - sum[j] + mod) % mod; for (int k = j + 1; k &lt;= cnt &amp;&amp; primes[k] * primes[k] &lt;= i; k++) { ll pe = primes[k]; for (int e = 1; pe &lt;= i; e++, pe = pe * primes[k]) { ans = (ans + c.C(d + e * K, d) * ((S(S, i / pe, k) + (e &gt; 1)) % mod) % mod) % mod; } } return ans; }; cout &lt;&lt; (S(S, n, 0) + 1) % mod &lt;&lt; endl;}int main(){ ios::sync_with_stdio(false), cin.tie(nullptr); int tt; cin &gt;&gt; tt; c.init(N * 10); while (tt--) { solve(); } return 0;}"},{"title":"Educational Codeforces Round 169 (Rated for Div. 2) F. Make a Palindrome","path":"/2024/10/10/CF2004F/","content":"åŸé¢˜é“¾æ¥ tags: æ€ç»´ï¼Œå‰ç¼€å’Œï¼Œ*2600 é¢˜æ„ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º åºåˆ— ï¼Œæ±‚ ã€‚ å…¶ä¸­ å°†è¿”å›å°†æ•°ç»„ å˜ä¸ºå›æ–‡æ•°ç»„çš„æœ€å°æ“ä½œæ¬¡æ•°ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ“ä½œï¼š é€‰æ‹©æ•°ç»„ä¸­ä¸¤ä¸ªç›¸é‚»çš„æ•° ï¼Œåˆ é™¤å®ƒä»¬å¹¶ç”¨å…ƒç´  æ’å…¥ã€‚ é€‰æ‹©æ•°ç»„ä¸­ä¸€ä¸ªæ•° ï¼Œç”¨ä¸¤ä¸ªæ­£æ•´æ•° æ›¿æ¢å®ƒã€‚ é¢˜è§£è°èƒ½æƒ³åˆ°ä¸€é“ *2600 çš„é¢˜æ ¸å¿ƒä»£ç åªæœ‰20è¡Œâ€¦â€¦ æ˜¾ç„¶å­˜åœ¨ä¸€ä¸ªä¸Šç•Œ ï¼Œå› ä¸ºå¯ä»¥ä¸€ç›´é€‰ä¸¤ä¸ªæ•°åˆå¹¶ç›´åˆ°å‰©ä¸‹ä¸€ä¸ªæ•°ã€‚ è¦å¾—åˆ°è¿™ä¸ªä¸Šç•Œè¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯ï¼Œæ¯æ¬¡é€‰æ‹©ä¸¤å¤´ä¸­è¾ƒå¤§çš„é‚£ä¸ªæ•°è¿›è¡Œæ‹†åˆ†æˆè¾ƒå°çš„æ•°å’Œå¦å¤–ä¸€ä¸ªæ•°ï¼Œè¿™æ ·åšæ¯æ¬¡èƒ½ä½¿å¾—ä¸¤å¤´å˜æˆä¸€æ ·ï¼Œç„¶åå­é—®é¢˜çš„è§„æ¨¡å°±å‡å°‘äº†ä¸¤ä¸ªæ•°å­—ï¼ŒåŒæ—¶å¤šå‡ºæ¥ä¸€ä¸ªæ•°ï¼Œæ€»ä½“ä¸Šç›¸å½“äºå°‘äº†ä¸€ä¸ªæ•°ï¼Œä¹Ÿæ˜¯éœ€è¦æœ€å¤š æ¬¡å°±èƒ½å˜æˆå›æ–‡ã€‚ è€ƒè™‘å¦‚ä½•å‡å°æ“ä½œæ¬¡æ•°ã€‚æ˜¾ç„¶ï¼Œå¦‚æœä¸¤ç«¯çš„æ•°å·²ç»ç›¸ç­‰ï¼Œè‚¯å®šä¸ç”¨æ“ä½œã€‚ ä½†æ˜¯æœ‰å¯èƒ½ä¼šå‡ºç°è¿™ç§æƒ…å†µ ï¼ŒæŒ‰ç…§ä¸Šé¢çš„å¤„ç†åŠæ³•æœ€å¤š 4 æ¬¡ï¼Œä½†æ˜¯ä¼šå‘ç°å‰ç¼€ å’Œåç¼€ çš„å’Œç›¸ç­‰ï¼Œäºæ˜¯å¯ä»¥ç”¨ä¸¤æ¬¡æ“ä½œå˜æˆ ï¼Œæ€»çš„æ“ä½œæ¬¡æ•°æ¥åˆ° 2 æ¬¡ï¼Œæ¥ä¸‹æ¥è€ƒè™‘è¿™æ ·åšä¸ºä»€ä¹ˆä¼šå‡å°‘æ“ä½œæ¬¡æ•°ã€‚ è®¾å‰ç¼€çš„é•¿åº¦ä¸º ï¼ŒåŒºé—´å’Œç›¸åŒçš„åç¼€é•¿åº¦ä¸º ï¼ŒæŒ‰ç…§æˆ‘ä»¬åŸæ¥çš„æ“ä½œï¼Œåœ¨è¿™ä¸¤æ®µæ•°ç»„ä¸Šæ‰€éœ€è¦çš„æ“ä½œæ¬¡æ•°å°±æ˜¯ ï¼Œä½†ç°åœ¨æˆ‘ä»¬åªéœ€è¦å°†ä¸¤æ®µæ•°ç»„åˆ†åˆ«åˆå¹¶æˆä¸€ä¸ªæ•°å°±èƒ½å½’çº¦ä¸ºç›¸åŒçš„å­é—®é¢˜ï¼Œéœ€è¦çš„æ“ä½œæ¬¡æ•°ä¸º ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æœ‰ çš„åŒºé—´å’Œç›¸ç­‰ï¼Œåˆ™å¯¹äº æ¥è¯´ï¼Œç­”æ¡ˆå°±å¯ä»¥å‡å°‘ 1ã€‚ è€ƒè™‘è´¡çŒ®æ³•ï¼Œç”¨æ¡¶æ¥è®°å½•æ‰€æœ‰å‡ºç°çš„åŒºé—´å’Œï¼Œå¯¹äºæ¯ä¸€ä¸ªæ–°åŠ å…¥çš„åŒºé—´ï¼Œè‹¥åŒºé—´å’Œä¸º ï¼Œåˆ™å¯¹ç­”æ¡ˆçš„è´¡çŒ®ä¸ºæ¡¶ä¸­è®°å½•çš„ çš„ä¸ªæ•°ï¼Œå› ä¸ºå…¶ä¸­ä»»æ„ä¸€ä¸ªä¸å®ƒç»„åˆéƒ½ä»£è¡¨ç€ä¸€ä¸ªåŒºé—´çš„ç­”æ¡ˆèƒ½å¤Ÿå‡ 1ã€‚ æœ‰ä¸€ç§æƒ…å†µå€¼å¾—ä¸€æï¼Œå‡å¦‚æ˜¯ä¸¤ä¸ªæœ‰ç€ç›¸åŒåŒºé—´å’Œçš„åŒºé—´æœ‰é‡å æ€ä¹ˆåŠã€‚ ä¾‹å¦‚ å’Œ ï¼Œå…¶ä¸­ ï¼Œæ˜¾ç„¶æ­¤æ—¶èƒ½å¤Ÿå¾—åˆ° å’Œ çš„åŒºé—´å’Œä¹Ÿç›¸ç­‰ã€‚å› æ­¤ ä¸Šçš„ç­”æ¡ˆä¼šè¢«å‡å°‘ä¸¤æ¬¡ã€‚ äº‹å®ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹© å’Œ åˆ†åˆ«åˆå¹¶æˆä¸€ä¸ªæ•°ï¼Œç„¶ååœ¨å°†å‰©ä½™çš„ ä¸­çš„æ•°åˆå¹¶æˆä¸€ä¸ªæ•°ï¼Œè¿™æ ·åšç›¸å¯¹äº â€‹ çš„ç­”æ¡ˆæ¥è¯´çš„ç¡®å‡å°‘äº† 2 æ¬¡æ“ä½œã€‚ æ—¶é—´å¤æ‚åº¦ï¼š ã€‚ ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;bits/stdc++.h&gt;using namespace std;void solve(){ int n; cin &gt;&gt; n; vector&lt;int&gt; a(n + 1), sum(n + 1); for (int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i]; for (int i = 1; i &lt;= n; i++) sum[i] = sum[i - 1] + a[i]; int ans = 0; for (int l = 1; l &lt;= n; l++) { for (int r = l; r &lt;= n; r++) { ans += r - l; } } unordered_map&lt;int, int&gt; mp; for (int len = 1; len &lt;= n; len++) { for (int l = 1; l + len - 1 &lt;= n; l++) { int r = l + len - 1; int t = sum[r] - sum[l - 1]; ans -= mp[t]; mp[t]++; } } cout &lt;&lt; ans &lt;&lt; endl;}int main(){ ios::sync_with_stdio(false), cin.tie(nullptr); int tt; cin &gt;&gt; tt; while (tt--) { solve(); } return 0;}"},{"title":"Pinely Round 4 (Div. 1 + Div. 2) F. Triangle Formation","path":"/2024/10/09/CF1991F/","content":"åŸé¢˜é“¾æ¥ tags: æ€ç»´ï¼Œæ•°å­¦ï¼Œ*2200 é¢˜æ„ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º çš„åºåˆ— ï¼Œè¿›è¡Œ æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ç»™å‡º ï¼Œè¯¢é—®åŒºé—´ ä¸­èƒ½å¦é€‰å‡º ä¸ªæ•°ç»„æˆä¸¤ä¸ªéé€€åŒ–çš„ä¸‰è§’å½¢ã€‚ éé€€åŒ–ä¸‰è§’å½¢ï¼šè¾¹é•¿åˆ†åˆ«ä¸º ï¼Œåˆ™æœ‰ï¼š é¢˜è§£ä¸€å¼€å§‹ä»¥ä¸ºä¼šæ˜¯ä¸€é“æ•°æ®ç»“æ„å¤§é¢˜â€¦â€¦ ä½†æ˜¯å¾ˆå®¹æ˜“å‘ç°ï¼Œå¦‚æœä¸€ä¸ªåŒºé—´ä¸­ä¸åŒ…å«ä¸¤ä¸ªé€€åŒ–çš„ä¸‰è§’å½¢ï¼Œåˆ™ä¸€å®šæœ‰ä»»æ„ä¸‰ä¸ªæ•°éƒ½ä¸æ»¡è¶³ä¸Šé¢ä¸‰ä¸ªæ¡ä»¶ï¼Œæ›´å…·ä½“çš„ï¼Œä»»æ„é€‰ä¸‰ä¸ªæ•°ï¼Œæœ€å°çš„ä¸¤ä¸ªæ•°ç›¸åŠ ä¸€å®šå°äºç­‰äºæœ€å¤§çš„é‚£ä¸ªæ•°ã€‚ é‚£ä¹ˆå°†åŒºé—´ä¸­æ‰€æœ‰çš„æ•°æŒ‰ç…§é€’å¢æ’åºï¼Œåˆ™æœ‰ ï¼Œè¿™ä½¿æˆ‘ä»¬è”ç³»åˆ°æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œç”±äºæ–æ³¢é‚£å¥‘æ•°åˆ—å¢é•¿é€Ÿåº¦ç›¸å½“å¿«ï¼Œæ‰“è¡¨å‘ç°æ»¡è¶³å°äº â€‹ çš„åªæœ‰å‰ 44 é¡¹ã€‚ 123456vector&lt;long long&gt; a = {1, 1};while (a.back() &lt;= 1e9) { a.push_back(a[a.size() - 1] + a[a.size() - 2]);}cout &lt;&lt; a.size() &lt;&lt; endl; // 45cout &lt;&lt; a.back() &lt;&lt; endl; // 1134903170 å› æ­¤å½“åŒºé—´é•¿åº¦å¤§äº 44 æ˜¯å°±ä¸€å®šå­˜åœ¨ä¸€ä¸ªéé€€åŒ–çš„ä¸‰è§’å½¢ï¼Œå¦‚æœå†å¾€åŒºé—´ä¸­æ‰” 3 ä¸ªæ•°ï¼Œåˆ™ä¸€å®šå­˜åœ¨ä¸¤ä¸ªéé€€åŒ–çš„ä¸‰è§’å½¢ï¼Œå› æ­¤åªè¦åŒºé—´é•¿åº¦å¤§äº47ï¼Œåˆ™ä¸€å®šå­˜åœ¨ä¸¤ä¸ªéé€€åŒ–çš„ä¸‰è§’å½¢ï¼Œä¸‹é¢è€ƒè™‘è®¡ç®—é•¿åº¦å°äºç­‰äº 47 çš„åŒºé—´ã€‚ é¦–å…ˆè¿˜æ˜¯å…ˆå°†åŒºé—´ä¸­æ‰€æœ‰æ•°æ‹¿å‡ºæ¥æ’åºï¼ˆå› ä¸ºç°åœ¨ä¸ªæ•°å¾ˆå°‘ï¼Œç›´æ¥æš´åŠ›éªŒè¯ï¼‰ã€‚æœ‰ä¸¤ä¸ªæ€§è´¨éœ€è¦è¯´æ˜ï¼š å¯¹äºå·²ç»èƒ½å¤Ÿå½¢æˆä¸‰è§’å½¢çš„ 3 ä¸ªæ•°ï¼Œåœ¨ä¿è¯ä»ç„¶æ˜¯æœ€å°çš„æ¡ä»¶ä¸‹å°†æœ€å°çš„è¾¹æ‹‰é•¿å°†ä¸ä¼šå½±å“åˆæ³•æ€§ã€‚ å¯¹äºå·²ç»èƒ½å¤Ÿå½¢æˆä¸‰è§’å½¢çš„ 3 ä¸ªæ•°ï¼Œåœ¨ä¿è¯ä»ç„¶æ˜¯æœ€å¤§çš„æ¡ä»¶ä¸‹å°†æœ€å¤§çš„è¾¹æ‹‰çŸ­å°†ä¸ä¼šå½±å“åˆæ³•æ€§ã€‚ æœ‰äº†è¿™ä¸¤æ¡æ€§è´¨ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¾—åˆ°ï¼Œåœ¨æ’å¥½åºçš„åºåˆ—ä¸­ï¼Œé€‰æ‹©ç›¸é‚»çš„ä¸‰ä¸ªåˆæ³•çš„ä¸€å®šæ›´ä¼˜ï¼Œè‹¥ä¸å­˜åœ¨ä¸‰ä¸ªç›¸é‚»çš„æ•°èƒ½å¤Ÿç»„æˆéé€€åŒ–ä¸‰è§’å½¢åˆ™æ•´ä¸ªåºåˆ—ä¸­éƒ½ä¸ä¼šå­˜åœ¨ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰«ä¸€éæ’å¥½åºçš„åºåˆ—ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰ä¸ç›¸äº¤çš„ä¸¤ç»„ç›¸é‚»ä¸‰ä¸ªæ•°èƒ½å¤Ÿç»„æˆéé€€åŒ–ä¸‰è§’å½¢ï¼Œå¦‚æœå­˜åœ¨æ‰“å°â€œYESâ€ã€‚ ä¸Šé¢åªè€ƒè™‘äº†ä¸¤ç»„æ•°ä¸ç›¸äº¤çš„æƒ…å†µï¼Œä½†æ˜¯æœ‰å¯èƒ½å­˜åœ¨ä¸¤ç»„æ•°ç›¸äº¤çš„ç‰¹ä¾‹ã€‚ä¾‹å¦‚ï¼š ï¼Œå¦‚æœé€‰æ‹©ä¸¤ç»„ç›¸é‚»çš„ï¼Œå³ å’Œ ï¼Œå‰é¢ç¬¬ä¸€ç»„å°±ä¸åˆæ³•ï¼Œå¦‚æœæŒ‰ç…§ å’Œ â€‹ è¿›è¡Œåˆ’åˆ†å°±å­˜åœ¨åˆæ³•è§£ã€‚å› æ­¤æˆ‘ä»¬è¿˜éœ€è¦æ‰«ä¸€éç›¸é‚» 6 ä¸ªæ•°åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸¤ç»„åˆæ³•è§£ã€‚ æ—¶é—´å¤æ‚åº¦ï¼š ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071#include &lt;bits/stdc++.h&gt;using namespace std;constexpr int d[9][6] = { {1, 2, 4, 3, 5, 6}, {1, 2, 5, 3, 4, 6}, {1, 2, 6, 3, 4, 5}, {1, 3, 4, 2, 5, 6}, {1, 3, 5, 2, 4, 6}, {1, 3, 6, 2, 4, 5}, {1, 4, 5, 2, 3, 6}, {1, 4, 6, 2, 3, 5}, {1, 5, 6, 2, 3, 4}};int main(){ ios::sync_with_stdio(false), cin.tie(nullptr); int n, q; cin &gt;&gt; n &gt;&gt; q; vector&lt;int&gt; a(n + 1); for (int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i]; while (q--) { int l, r; cin &gt;&gt; l &gt;&gt; r; if (r - l + 1 &gt;= 48) { cout &lt;&lt; \"YES\" &lt;&lt; endl; continue; } vector&lt;int&gt; nums; for (int i = l; i &lt;= r; i++) { nums.push_back(a[i]); } sort(nums.begin(), nums.end()); auto check = [&amp;](int a, int b, int c) { return a &lt; (b + c) &amp;&amp; b &lt; (a + c) &amp;&amp; c &lt; (a + b); }; vector&lt;int&gt; ok; bool have = false; for (int i = 0; i &lt; nums.size() - 2; i++) { if (check(nums[i], nums[i + 1], nums[i + 2])) { ok.push_back(i); if (ok.back() &gt; ok[0] + 2) { have = true; break; } } } if (ok.empty()) { // ä¸å­˜åœ¨åˆæ³•ä¸‰è§’å½¢ cout &lt;&lt; \"NO\" &lt;&lt; endl; continue; } if (have) { // å­˜åœ¨ä¸ç›¸äº¤çš„ä¸¤ç»„æ•° cout &lt;&lt; \"YES\" &lt;&lt; endl; continue; } for (int i = 0; i &lt; nums.size() - 5; i++) { for (int j = 0; j &lt; 9; j++) { if (check(nums[i + d[j][0] - 1], nums[i + d[j][1] - 1], nums[i + d[j][2] - 1]) &amp;&amp; check(nums[i + d[j][3] - 1], nums[i + d[j][4] - 1], nums[i + d[j][5] - 1])) { have = true; break; } } if (have) break; } if (have) { cout &lt;&lt; \"YES\" &lt;&lt; endl; } else { cout &lt;&lt; \"NO\" &lt;&lt; endl; } } return 0;}"},{"title":"Codeforces Round 959 sponsored by NEAR (Div. 1 + Div. 2) F. Stardew Valley","path":"/2024/10/08/CF1994F/","content":"åŸé¢˜è¿æ¥ tag: å›¾è®ºï¼Œæ¬§æ‹‰å›è·¯ï¼Œ*2500 é¢˜æ„ç»™å‡ºä¸€ä¸ªè¿é€šæ— å‘å›¾ï¼Œ ä¸ªç‚¹ æ¡è¾¹ï¼Œè¾¹åˆ†æˆå¿…é€‰è¾¹å’Œéå¿…é€‰è¾¹ï¼Œå¯ä»¥å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ï¼Œè¦æ±‚é€‰å‡ºä¸€æ¡è·¯å¾„åŒ…å«æ‰€æœ‰çš„å¿…é€‰è¾¹ï¼Œå¹¶ä¸”é€‰å‡ºçš„è·¯å¾„ä¸Šæ‰€æœ‰è¾¹ï¼ˆå¿…é€‰è¾¹å’Œéå¿…é€‰è¾¹ï¼‰åªç»è¿‡ä¸€æ¬¡ï¼Œå¹¶ä¸”èƒ½å¤Ÿå›åˆ°èµ·ç‚¹ã€‚ é¢˜è§£ç”±äºè·¯å¾„ä¸Šæ¯æ¡è¾¹åªç»è¿‡ä¸€æ¬¡ï¼Œå¹¶ä¸”è¦å½¢æˆä¸€ä¸ªç¯ï¼Œä¸éš¾æƒ³åˆ°æœ€åå¦‚æœç­”æ¡ˆå­˜åœ¨ä¸€å®šæ„æˆä¸€æ¡æ¬§æ‹‰å›è·¯ã€‚å›æƒ³æ¬§æ‹‰å›è·¯çš„æ€§è´¨ï¼Œæ¯ä¸ªç‚¹çš„åº¦æ•°éƒ½æ˜¯å¶æ•°ï¼Œä¸”è¿é€šï¼Œå› æ­¤é¢˜ç›®çš„æ„æ€æ˜¯ï¼šæ˜¯å¦å¯ä»¥åˆ æ‰åŸå›¾ä¸­ä¸€äº›éå¿…é€‰è¾¹ï¼Œä½¿å¾—å‰©ä¸‹çš„å›¾åŒ…å«ä¸€ä¸ªæ¬§æ‹‰å›è·¯ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰ç‚¹çš„åº¦æ•°éƒ½æ˜¯å¶æ•°ã€‚ æœ‰äº†è¿™ä¸ªæƒ³æ³•åï¼Œå‘ç°ä»£ç å¹¶æ²¡æœ‰å¾ˆå®¹æ˜“å®ç°ã€‚å¦‚æœä¸€å¼€å§‹ç”¨æ‰€æœ‰çš„è¾¹å»ºå›¾ï¼Œç„¶åè€ƒè™‘åˆ æ‰ä¸€äº›è¾¹ä½¿å¾—æ‰€æœ‰ç‚¹çš„åº¦æ•°å‡ä¸ºå¶æ•°ï¼Œè¿™æ ·çš„åšæ³•å¾ˆéš¾æ‰¾åˆ°åˆ æ‰å“ªäº›è¾¹èƒ½å¤Ÿæ»¡è¶³æ¡ä»¶ã€‚ è€ƒè™‘åè¿‡æ¥ï¼Œå¦‚æœæˆ‘ä»¬ä»å¿…é€‰è¾¹å¼€å§‹ï¼Œé€æ¸åŠ å…¥éå¿…é€‰è¾¹ï¼Œé‚£ä¹ˆæœ€åçš„å›¾ä¸€å®šæ˜¯ä¸€ä¸ªæ¬§æ‹‰å›è·¯ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ä»å¿…é€‰è¾¹å¼€å§‹ï¼Œé€æ¸åŠ å…¥éå¿…é€‰è¾¹ï¼Œå¦‚æœæœ€åçš„å›¾æ˜¯ä¸€ä¸ªæ¬§æ‹‰å›è·¯ï¼Œé‚£ä¹ˆå°±ç¬¦åˆé¢˜æ„ã€‚ ä¸€ä¸ªæ¯”è¾ƒå®¹æ˜“å®ç°çš„æ–¹æ³•æ˜¯è€ƒè™‘éå¿…é€‰è¾¹æ‰€æ„æˆçš„å­å›¾ï¼Œç”¨ dfs è¿›è¡Œéå†ï¼Œåœ¨ dfs éå†çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‘ç°ä¸€ä¸ªç‚¹çš„åº¦æ•°ä¸ºå¥‡æ•°ï¼Œåˆ™åˆ æ‰å’Œå®ƒçˆ¶äº²ç›¸è¿çš„ä¸€æ¡è¾¹ï¼Œä½¿å¾—è¿™ä¸ªç‚¹çš„åº¦æ•°å˜æˆå¶æ•°ï¼Œæœ€åå¦‚æœæ ¹èŠ‚ç‚¹çš„åº¦æ•°æ˜¯å¥‡æ•°ï¼Œè¯´æ˜ä¸èƒ½æ»¡è¶³æ‰€æœ‰ç‚¹çš„åº¦æ•°éƒ½æ˜¯å¶æ•°çš„æ¡ä»¶ã€‚ æœ€ååœ¨æ‰€æœ‰é€‰å‡ºçš„è¾¹ä¸­è·‘ä¸€è¾¹æ±‚æ¬§æ‹‰å›è·¯å³å¯ã€‚ æ—¶é—´å¤æ‚åº¦ ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182#include &lt;bits/stdc++.h&gt;using namespace std;void solve(){ int n, m; cin &gt;&gt; n &gt;&gt; m; vector&lt;int&gt; d(n + 1); vector&lt;vector&lt;int&gt;&gt; G(n + 1); vector&lt;int&gt; u(m + 1), v(m + 1), w(m + 1); for (int i = 1; i &lt;= m; i++) { cin &gt;&gt; u[i] &gt;&gt; v[i] &gt;&gt; w[i]; if (w[i]) d[u[i]]++, d[v[i]]++; G[u[i]].push_back(i), G[v[i]].push_back(i); } vector&lt;bool&gt; vis(n + 1); auto dfs = [&amp;](auto dfs, int x) -&gt; void { vis[x] = true; for (int i : G[x]) { int y = u[i] ^ v[i] ^ x; if (vis[y] || w[i] == 1) continue; dfs(dfs, y); if (d[y] &amp; 1) { d[x]--, d[y]--; w[i] = 1; // é€‰ } } }; for (int i = 1; i &lt;= n; i++) { if (!vis[i]) dfs(dfs, i); if (d[i] &amp; 1) { cout &lt;&lt; \"NO \"; return; } } cout &lt;&lt; \"YES \"; vector&lt;int&gt; ans; // è¿™ç§æ‰¾æ¬§æ‹‰å›è·¯Täº† // auto dfs2 = [&amp;](auto dfs2, int x) -&gt; void { // for (int i : G[x]) { // if (w[i] == 0) continue; // int y = u[i] ^ v[i] ^ x; // w[i] = 0; // dfs2(dfs2, y); // } // ans.push_back(x); // }; auto dfs2 = [&amp;](auto dfs2, int x) -&gt; void { while (G[x].size()) { int i = G[x].back(); G[x].pop_back(); if (w[i] == 0) continue; int y = u[i] ^ v[i] ^ x; w[i] = 0; dfs2(dfs2, y); } ans.push_back(x); }; dfs2(dfs2, 1); cout &lt;&lt; ans.size() - 1 &lt;&lt; endl; for (int i = 0; i &lt; ans.size(); i++) { cout &lt;&lt; ans[i] &lt;&lt; \" \"[i == ans.size() - 1]; }}int main(){ ios::sync_with_stdio(false), cin.tie(nullptr); int tt; cin &gt;&gt; tt; while (tt--) { solve(); } return 0;}"},{"title":"About","path":"/about/index.html","content":"Hi ğŸ‘‹, I'm komorebie"},{"title":"ä¸€ç»´æ— çº¦æŸä¼˜åŒ–","path":"/wiki/æœ€ä¼˜åŒ–ç®—æ³•/ä¸€ç»´æ— çº¦æŸä¼˜åŒ–.html","content":"ä¸€ç»´æ— çº¦æŸä¼˜åŒ–ä¸»è¦è®¨è®ºä¸€ç»´ï¼ˆå•å³°å‡½æ•°ï¼‰çš„æœ€å°åŒ–é—®é¢˜ç®—æ³• \\min f(x),x\\in \\mathbb{R}å•å³°å‡½æ•°ï¼šå¦‚æœä¸€ç»´å‡½æ•°åœ¨å®šä¹‰åŸŸåŒºé—´ ä¸Šæœ‰å”¯ä¸€å±€éƒ¨æå°ç‚¹ ï¼Œåˆ™ ç§°ä¸ºåŒºé—´ ä¸Šçš„ å•å³°å‡½æ•°ï¼ˆunimodel functionï¼‰ã€‚ æ€§è´¨ï¼šåœ¨ ä¸Šä»»å–ä¸¤ç‚¹ ä¸” ï¼Œåˆ™æå°å€¼ ä¸€å®šä½äº ä¹‹é—´ ï¼Œåˆ™æå°å€¼ ä¸€å®šä½äº â€‹ ä¹‹é—´ ç­‰æ¯”ä¾‹å‹ç¼©æ³•æ¯æ¬¡åœ¨å½“å‰åŒºé—´æŒ‰ç­‰æ¯”ä¾‹å–ä¸¤ä¸ªç‚¹ æ¯æ¬¡è¿­ä»£ååŒºé—´å˜æˆåŸæ¥çš„ å€ï¼Œæ•… æ¬¡è¿­ä»£åæ€»å‹ç¼©æ¯”ä¸º ï¼Œå…¶ä¸­æ¯æ¬¡å‹ç¼©è¦å–ä¸¤ä¸ªç‚¹é‡æ–°è®¡ç®—å‡½æ•°å€¼å¹¶æ¯”è¾ƒï¼Œæ‰€ä»¥è°ƒç”¨ æ¬¡æ•°ä¸º ã€‚ é»„é‡‘åˆ†å‰²æ³•åœ¨ç­‰æ¯”ä¾‹å‹ç¼©æ³•çš„åŸºç¡€ä¸Šå°†å‹ç¼©æ¯”è®¾ç½®ä¸º ï¼Œå¥½å¤„æ˜¯æ¯ä¸€æ¬¡äº§ç”Ÿçš„æ–°åŒºé—´ä¸­æ€»åŒ…å«äº†ä¸Šä¸€æ¬¡è®¡ç®—çš„ä¸€ä¸ªç‚¹ï¼Œä½¿å¾—ä¸‹ä¸€æ¬¡è¿ç®—æ—¶è¯¥åº—å¯ä»¥é‡å¤ä½¿ç”¨ã€‚ æ€»å‹ç¼©æ¯”ä¸º ï¼Œè°ƒç”¨æ¬¡æ•°ä¸º ï¼ˆç¬¬ä¸€æ¬¡è¿˜æ˜¯è¦ç®—ä¸¤ä¸ªç‚¹ï¼Œå…¶ä½™æ¯æ¬¡åªå¤šç®—ä¸€ä¸ªç‚¹ï¼‰ã€‚ æ–æ³¢é‚£å¥‘æ³•å‰é¢ä¸¤ç§æ–¹æ³•æ˜¯ è¦æ±‚è¾¾åˆ°ç›®æ ‡å‹ç¼©æ¯”ï¼Œèƒ½å¦ ç»™å®šè¿­ä»£æ¬¡æ•° ï¼Œä½†å…è®¸ çš„å€¼åŠ¨æ€æ”¹å˜ï¼Œä½¿å¾— æ¬¡è¿­ä»£åçš„å‹ç¼©æ¯”æœ€å°ï¼Œå¹¶ä¸”ä»ç„¶æ¯æ¬¡åªå¢åŠ å¯¹ä¸€ä¸ªç‚¹çš„ç›®æ ‡å‡½æ•°è¿›è¡Œè®¡ç®—ã€‚ å³æ»¡è¶³ \\rho_{k+1}(1-\\rho_k)=1-2\\rho_k\\\\\\rho_{k+1}=1-\\frac{\\rho_k}{1-\\rho_k} è½¬åŒ–æˆæ±‚ï¼š \\min (1-\\rho_1)(1-\\rho_2)\\dots (1-\\rho_n)\\\\s.t.\\rho_{k+1}=1-\\frac{\\rho_k}{1-\\rho_k},k=1,\\dots, N-1\\\\0\\le \\rho_k\\le\\frac{1}{2},k=1,\\dots, N-1æ»¡è¶³ä»¥ä¸‹åºåˆ—çš„è§£å³ä¸ºæ”¹æœ€ä¼˜åŒ–é—®é¢˜çš„æœ€ä¼˜è§£ï¼šï¼ˆè¯æ˜è¿‡ç¨‹P78ï¼‰ \\rho_{1} = 1-\\frac{F_{N}}{F_{N+1}},\\quad\\rho_{2} = 1-\\frac{F_{N-1}}{F_{N}},...,\\rho_{k} = 1-\\frac{F_{N-k+1}}{F_{N-k+2}},... ,\\rho_{N} = 1-\\frac{F_{1}}{F_{2}}æ³¨æ„ï¼šåœ¨ç¬¬ æ¬¡è¿­ä»£æ—¶ ï¼Œæ­¤æ—¶ä¸¤ä¸ªç‚¹é‡å ï¼Œéœ€è¦åŠ ä¸Šä¸€ä¸ªæ‰°åŠ¨é‡ ï¼Œå³ ï¼Œå› æ­¤ï¼Œå¯¹äºæå°ç‚¹æ‰€åœ¨çš„åŒºé—´çš„å‹ç¼©æ¯”å¯èƒ½æ˜¯ï¼š æˆ– æ€»å‹ç¼©æ¯”ä¸º åœ¨ è¶‹äºæ— ç©·æ—¶ï¼Œé»„é‡‘åˆ†å‰²æ³•å®é™…ä¸Šå’Œæ–æ³¢é‚£å¥‘æ³•æœ‰ç€ç›¸åŒçš„å‹ç¼©æ¯” äºŒåˆ†æ³•éœ€è¦ç›®æ ‡å‡½æ•° è¿ç»­å¯å¾®ï¼Œ Step 1 ç¡®å®šåˆå§‹åŒºé—´çš„ä¸­ç‚¹ Step 2 è®¡ç®—å‡½æ•° åœ¨ä¸­ç‚¹çš„å¯¼æ•° ã€‚å¦‚æœ ï¼Œè¯´æ˜æå°ç‚¹åœ¨ å·¦ä¾§ï¼Œå‹ç¼©ä¸‹ä¸€æ¬¡çš„æœç´¢åŒºé—´ä¸º ã€‚å¦‚æœ ,è¯´æ˜è¾ƒå°ç‚¹ä½äº å³ä¾§ï¼Œä¸‹ä¸€æ¬¡è¿­ä»£ç‰ç¼©åŒºé—´ä¸º ã€‚æœ€åï¼Œå¦‚æœ , è¯´ æ˜ æ˜¯æå°ç‚¹ã€‚ Step 3 æŒ‰ç…§ç¬¬2æ­¥è¿­ä»£ï¼Œæ ¹æ® çš„å¤§å°æ¥å‹ç¼©åŒºé—´ï¼Œç›´åˆ°åŒºé—´å¤§å°å°äºé¢„æœŸè¦æ±‚æˆ–è€… (ç”±äºæ•°å€¼è¯¯å·®ï¼Œåè€…ä¸€èˆ¬ä¸ä¼šå‡ºç°ï¼Œæ‰€ä»¥åœæœºæ¡ä»¶ä¼šè¦æ±‚åŒºé—´å¤§å°åœ¨æŸä¸€çº¦æŸå†…) æ–¹æ³• å‹ç¼©æ¯” è°ƒç”¨ æ¬¡æ•° ç­‰æ¯”ä¾‹å‹ç¼©æ³• é»„é‡‘åˆ†å‰²æ³• æ–æ³¢é‚£å¥‘æ³• äºŒåˆ†æ³• \\ ç¡®å®šåˆå§‹æœç´¢èŒƒå›´bracket_ minimumç®—æ³• ç‰›é¡¿æœç´¢æ–¹æ³•è‹¥ åœ¨ äºŒé˜¶è¿ç»­å¯å¾®ï¼Œåˆ™ f(x)=f(x_0)+f'(x_0)(x-x_0)+\\frac12f''(x_0)(x-x_0)^2+o(|x-x_0|^2)å¯ä»¥åˆ©ç”¨ q(x)=f(x^k)+f^{\\prime}(x^k)(x-x^k)+\\frac12f^{\\prime\\prime}(x^k)(x-x^k)^2ä½œä¸º åœ¨ é™„è¿‘çš„è¿‘ä¼¼ ç‰›é¡¿æ³•åˆ©ç”¨ çš„æå°ç‚¹ä½œä¸º ï¼Œå³ä¸‹æ¬¡è¿­ä»£ç‚¹ï¼Œå³ x^{(k+1)}=x^{(k)}-\\frac{f^{\\prime}(x^{(k)})}{f^{\\prime\\prime}(x^{(k)})} ç‰›é¡¿æ³•æ±‚è§£æ–¹ç¨‹ç‰›é¡¿æ³•è¿­ä»£è¿‡ç¨‹ä¸­å¹¶ä¸éœ€è¦è®¡ç®— ï¼Œå´èƒ½æ‰¾åˆ° çš„ç‚¹ã€‚å› æ­¤ï¼Œä»¤ ï¼Œç‰›é¡¿æ³•ä¹Ÿèƒ½æ±‚è§£æ–¹ç¨‹ ï¼Œè¿­ä»£æ–¹ç¨‹ä¸º x^{(k+1)}=x^{(k)}-\\frac{g(x^{(k)})}{g^{\\prime}(x^{(k)})}æœ‰å¯èƒ½ä¼šå› ä¸º ä¸å¤Ÿå°å¤±æ•ˆ å‰²çº¿æ³•åˆ©ç”¨ä¸åŒç‚¹å¤„çš„ä¸€é˜¶å¯¼æ•°è¿‘ä¼¼äºŒé˜¶å¯¼æ•° x^{(k+1)}=x^{(k)}-\\frac{x^{(k)}-x^{(k-1)}}{f'(x^{(k)})-f'(x^{(k-1)})}f'(x^{(k)})ç”±äºæ¯æ¬¡è¿­ä»£ä½¿ç”¨äº†ä¸¤ä¸ªç‚¹çš„ä¿¡æ¯ï¼Œåˆå§‹ç‚¹éœ€è¦æœ‰ä¸¤ä¸ª å’Œ ã€‚ äºŒæ¬¡æ‹Ÿåˆæœç´¢ä¸è®¡ç®—ä¸€é˜¶å¯¼æ•°çš„æƒ…å†µä¸‹ï¼Œæ±‚è§£ä¸Šè¿°ä¸€ç»´æœ€ä¼˜åŒ–é—®é¢˜ã€‚ ä»¤ï¼š X=\\begin{bmatrix}\\left(x^k\\right)^2&x^k&1\\\\\\left(x^{k-1}\\right)^2&x^{k-1}&1\\\\\\left(x^{k-2}\\right)^2&x^{k-2}&1\\end{bmatrix},y=\\begin{bmatrix}f(x^k)\\\\f(x^{k-1})\\\\f(x^{k-2})\\end{bmatrix},\\text{åˆ™}A\\begin{bmatrix}a\\\\b\\\\c\\end{bmatrix}=yç”± å…‹ æ‹‰ é»˜ æ³• åˆ™ , b, å…¶ ä¸­ ä¸º ç”¨ yå– ä»£ çš„ ç¬¬ 1 å’Œç¬¬ 2 åˆ—åçš„çŸ©é˜µã€‚ å®é™…ä¸Šï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦è®¡ç®—å‚æ•°ã€‚è€ƒè™‘äºŒæ¬¡å‡½æ•°çš„æœ€å°å€¼ä¸º ï¼Œæˆ‘ä»¬åªéœ€è¦è®¡ç®—"},{"title":"å¤šç»´å‡½æ•°","path":"/wiki/æœ€ä¼˜åŒ–ç®—æ³•/å¤šç»´å‡½æ•°.html","content":"å¤šç»´å®å€¼å‡½æ•°å®šä¹‰åŸŸä¸º ï¼Œå€¼åŸŸä¸º æˆ–è€… â€‹ çš„å‡½æ•°ã€‚ å‡½æ•°æ°´å¹³é›†å³å‡½æ•°çš„â€œç­‰é«˜çº¿â€ã€‚ äºŒæ¬¡å‹ï¼ˆQuadratic formï¼‰æŒ‡äºŒæ¬¡é½æ¬¡å¤šé¡¹å¼ã€‚ äºŒæ¬¡å‹å‡½æ•°æœ€é«˜é˜¶ä¸ºäºŒæ¬¡å‹çš„å®å‡½æ•°ï¼Œå³ å…¶ä¸­ æ˜¯ä¸€ä¸ª çš„å®æ•°çŸ©é˜µï¼Œå³ ã€‚ è§‚å¯Ÿï¼šç»™å‡º ï¼Œå…¶ä¸­ ï¼Œæˆ‘ä»¬å¯ä»¥å°† è½¬åŒ–ä¸ºä¸€ä¸ªå¯¹ç§°çŸ©é˜µ \\boldsymbol{Q_0}=\\frac12(\\boldsymbol{Q}+\\boldsymbol{Q}^T)å¯¹ä»»æ„ â€‹ æœ‰ x^TQx\\equiv x^TQ_0xä¸Šè¿°è§‚å¯Ÿè¯´æ˜æˆ‘ä»¬æ€»å¯å°†äºŒæ¬¡å‹å‡½æ•°ä¸­çš„çŸ©é˜µ å˜æˆå¯¹ç§°é˜µã€‚ å°†äºŒæ¬¡å‹å‡½æ•°å†™æˆçŸ©é˜µçš„å½¢å¼ï¼Œä¾‹å¦‚å°† å†™æˆ çš„å½¢å¼ï¼Œè¦æ±‚ æ˜¯å¯¹ç§°çŸ©é˜µã€‚ \\boldsymbol{x}=\\begin{bmatrix}x_1\\\\x_2\\\\x_3\\end{bmatrix},Q=\\begin{bmatrix}5&-\\frac{1}{2}&0\\\\-\\frac{1}{2}&3&4\\\\0&4&2\\end{bmatrix}åˆ¤æ–­æ­£å®šçŸ©é˜µæ­£å®šçŸ©é˜µå®šä¹‰ï¼šç»™å‡ºå¯¹ç§°çŸ©é˜µ ï¼Œå¦‚æœå¯¹äºä»»æ„ä¸€ä¸ªéé›¶å‘é‡ æ»¡è¶³ï¼š x^TQx>0åˆ™æ˜¯ä¸€ä¸ªæ­£å®šçŸ©é˜µã€‚å¦‚æœ ï¼Œåˆ™ æ˜¯ä¸€ä¸ªåŠæ­£å®šçŸ©é˜µã€‚ç›¸åº”çš„ï¼Œå¦‚æœå¯¹äºæ‰€æœ‰çš„ ï¼Œ â€‹ æ˜¯è´Ÿå®šçŸ©é˜µ(åŠè´Ÿå®šçŸ©é˜µ) æ€§è´¨2ï¼šå¯¹ç§°çŸ©é˜µ æ˜¯æ­£å®šï¼ˆåŠæ­£å®šï¼‰çŸ©é˜µå½“ä¸”ä»…å½“æ‰€æœ‰çš„ç‰¹å¾å€¼éƒ½æ˜¯æ­£çš„ï¼ˆéè´Ÿçš„ï¼‰ã€‚ æ€§è´¨1ï¼šå¯¹ç§°çŸ©é˜µ æ˜¯æ­£å®šçš„å½“ä¸”ä»…å½“ çš„æ‰€æœ‰é¡ºåºä¸»å­å¼æ˜¯æ­£çš„ã€‚ æ³¨æ„ï¼šé¡ºåºä¸»å­å¼éè´Ÿæ˜¯çŸ©é˜µåŠæ­£å®šçš„å¿…è¦æ¡ä»¶ï¼Œéå……åˆ†æ¡ä»¶ã€‚å³ï¼ŒçŸ©é˜µåŠæ­£å®š =&gt; é¡ºåºä¸»å­å¼éè´Ÿï¼Œä½†é¡ºåºä¸»å­å¼éè´Ÿ çŸ©é˜µåŠæ­£å®šã€‚ èŒƒæ•°å‡½æ•° 1 - èŒƒæ•° (L1): â€”â€”æ›¼å“ˆé¡¿è·ç¦» æ¬§å¼èŒƒæ•°(L2â€”â€”æ¬§å¼è·ç¦» - èŒƒæ•°ï¼š æ— ç©·èŒƒæ•°ï¼š æ¢¯åº¦æ¢¯åº¦(Gradient)ï¼šå¦‚æœå‡½æ•° ä¸€é˜¶å¯å¾®,é‚£ä¹ˆå‡½æ•° abla f(\\boldsymbol{x})=\\begin{bmatrix}\\dfrac{\\partial f(\\boldsymbol{x})}{\\partial x_1}\\\\\\vdots\\\\\\dfrac{\\partial f(\\boldsymbol{x})}{\\partial x_n}\\end{bmatrix}ç§°ä¸º åœ¨ç‚¹ å¤„çš„æ¢¯åº¦ã€‚ å¸¸è§çš„å¤šç»´å‡½æ•°æ¢¯åº¦ å¸¸æ•°å‘é‡ï¼Œåˆ™ ï¼Œåˆ™ ï¼Œåˆ™ è‹¥æ˜¯é˜¶å¯¹ç§°çŸ©é˜µï¼Œ ï¼Œåˆ™ è‹¥æ˜¯é˜¶å¯¹ç§°çŸ©é˜µï¼Œ ï¼Œåˆ™ â€‹ é›…å¯æ¯”çŸ©é˜µé›…å¯æ¯”çŸ©é˜µï¼ˆJacobi matrixï¼‰ï¼šå¦‚æœï¼Œå³ä¸”â€‹å¯å¾®ï¼Œé‚£ä¹ˆ \\\\D{f}(\\boldsymbol{x})=\\begin{bmatrix}\\frac{\\partial f_1(\\boldsymbol{x})}{\\partial x_1}&\\frac{\\partial f_1(\\boldsymbol{x})}{\\partial x_2}&...&\\frac{\\partial f_1(\\boldsymbol{x})}{\\partial x_n}\\\\\\frac{\\partial f_2(\\boldsymbol{x})}{\\partial x_1}&\\frac{\\partial f_2(\\boldsymbol{x})}{\\partial x_2}&...&\\frac{\\partial f_2(\\boldsymbol{x})}{\\partial x_n}\\\\\\vdots&\\vdots&\\ddots&\\vdots\\\\\\frac{\\partial f_m(\\boldsymbol{x})}{\\partial x_1}&\\frac{\\partial f_m(\\boldsymbol{x})}{\\partial x_2}&...&\\frac{\\partial f_m(\\boldsymbol{x})}{\\partial x_n}\\end{bmatrix}ç§°ä¸º åœ¨ å¤„çš„å¯¼æ•°ï¼Œä¹Ÿç§°ä¸º åœ¨ çš„é›…å¯æ¯”çŸ©é˜µã€‚ å½“ æ—¶ï¼Œ ã€‚ å¤šç»´å‡½æ•°æ±‚å¯¼çš„é“¾å¼æ³•åˆ™ç»™å®šå¤åˆå‡½æ•° h(t)=g(x(t))è®¾ ï¼Œå…¶ ä¸­ æ¯ ä¸ª éƒ½æ˜¯å…³äº çš„å‡½æ•°ï¼Œå³ ï¼Œæœ‰ abla h(t)=Dx(t)^{\\mathsf{T}} abla g(x(t))å…¶ä¸­ è¡¨ç¤º å…³ äº çš„å¯¼æ•°ï¼ˆé›…å¯æ¯”çŸ©é˜µï¼‰ã€‚ å¯è¡Œæ–¹å‘å’Œæ–¹å‘å¯¼æ•°é»‘å¡ï¼ˆHessianï¼‰çŸ©é˜µé»‘å¡çŸ©é˜µ(Hessian)å¦‚æœâ€‹æ˜¯äºŒé˜¶å¯å¾®çš„,çŸ©é˜µ abla^2f(\\boldsymbol{x})=\\begin{bmatrix}\\frac{\\partial^2f}{\\partial x_1^2}&\\frac{\\partial^2f}{\\partial x_2\\partial x_1}&...&\\frac{\\partial^2f}{\\partial x_n\\partial x_1}\\\\\\frac{\\partial f}{\\partial x_1\\partial x_2}&\\frac{\\partial f}{\\partial x_2^2}&...&\\frac{\\partial^2f}{\\partial x_n\\partial x_2}\\\\\\vdots&\\vdots&\\ddots&\\vdots\\\\\\frac{\\partial^2f}{\\partial x_1\\partial x_n}&\\frac{\\partial^2f}{\\partial x_2\\partial x_n}&...&\\frac{\\partial^2f}{\\partial x_n^2}\\end{bmatrix}ç§°ä¸º åœ¨ç‚¹ å¤„çš„é»‘å¡çŸ©é˜µï¼Œå…¶ä¸­ è¡¨ç¤º é¦–å…ˆå¯¹ ç„¶åå†å¯¹ æ±‚å¯¼ã€‚æ³¨æ„:æ•™æä¸­å¸¸è®°ä¸º ï¼Œæˆ– ã€‚ å¯¹äºäºŒé˜¶å¯¼æ•°è¿ç»­çš„å‡½æ•°ï¼Œå…¶ Hessian é˜µä¸ºå¯¹ç§°çŸ©é˜µã€‚"},{"title":"æ— çº¦æŸä¼˜åŒ–","path":"/wiki/æœ€ä¼˜åŒ–ç®—æ³•/æ— çº¦æŸä¼˜åŒ–.html","content":"æ— çº¦æŸä¼˜åŒ–æ— çº¦æŸä¼˜åŒ–ï¼š ä¸ºå®šä¹‰åœ¨ ä¸Šçš„å¯å¾®å‡½æ•°ã€‚æ— çº¦æŸä¼˜åŒ–è¦æ±‚æ±‚è§£ \\min_{x\\in\\mathbb{R}^n}f(x)çº¿æ€§å›å½’è¯•å›¾å­¦å¾—ä¸€ä¸ªçº¿æ€§æ¨¡å‹ï¼Œé€š è¿‡å› ç´ ã€å±æ€§æˆ–è€…è¯´ç‰¹å¾çš„çº¿æ€§ç»„åˆï¼Œæ¥å°½å¯èƒ½å‡†ç¡®åœ°é¢„æµ‹å® é™…è¾“å‡ºå€¼ï¼Œå³å¯»æ±‚çº¿æ€§å‡½æ•° f(\\boldsymbol{x})=\\boldsymbol{w}^T\\boldsymbol{x}_i+båŸºäºå‡æ–¹è¯¯å·®æœ€å°åŒ–æ¥è¿›è¡Œæ¨¡å‹æ±‚è§£çš„æ–¹æ³•ä¹Ÿè¢«ç§°ä¸ºâ€œæœ€å°äºŒä¹˜æ³•â€(least square method)ã€‚ å¸¦æ­£åˆ™é¡¹çš„çº¿æ€§å›å½’ èŒƒæ•°æ­£åˆ™é¡¹ï¼šå¦‚æœæƒ³è¦å¾—åˆ°ä¸€ä¸ªç¨€ç–çš„è§£ï¼Œå°±æ˜¯è§£ä¸­éé›¶åˆ†é‡çš„ä¸ªæ•°å°½å¯èƒ½å°‘ï¼Œå¯å€ŸåŠ©æˆ–è€…èŒƒæ•°ã€‚ \\min_{\\widehat{\\boldsymbol{w}}\\in\\mathbb{R}^{l+1}}\\|X\\widehat{\\boldsymbol{w}}-\\boldsymbol{b}\\|_2^2+\\mu\\|\\widehat{\\boldsymbol{w}}\\|_1^2å…¶ä¸­è¢«ç§°ä¸ºæ­£åˆ™é¡¹ï¼Œä¸Šè¿°æ¨¡å‹ä¹Ÿè¢«ç§°ä¸ºLASSO (Least Absolute Shrinkage and Selection Operator) å²­ å› å½’ : ä¸º äº† å¹³ è¡¡ æ¨¡ å‹ çš„ æ‹Ÿ åˆ æ€§ è´¨ å’Œ è§£ çš„ å…‰ æ»‘ æ€§ , è¿˜ å¯ ä»¥ ç”¨ æ­£åˆ™é¡¹ \\min_{\\widehat w\\in\\mathbb{R}^{l+1}}\\|X\\widehat{\\boldsymbol{w}}-b\\|_2^2+\\mu\\|\\widehat{\\boldsymbol{w}}\\|_2^2é€šè¿‡è®¾ç½®åˆé€‚çš„ å€¼ï¼Œä¸Šè¿°ç›®æ ‡å‡½æ•°å¯ä»¥å˜æˆä¸¥æ ¼å‡¸å‡½æ•°ï¼Œä½¿å¾—è§£æ€§è´¨å¾—åˆ°æ”¹å–„ã€‚ æ— çº¦æŸä¼˜åŒ–æœ€ä¼˜æ€§æ¡ä»¶ä¸€é˜¶å¿…è¦æ¡ä»¶ï¼ˆFONCï¼‰ä¸€é˜¶å¿…è¦æ¡ä»¶ï¼šè®¾ ä¸€é˜¶è¿ç»­å¯å¾®ã€‚å¦‚æœ æ˜¯å±€éƒ¨æå°ç‚¹ï¼Œåˆ™ abla f(\\boldsymbol{x}^*)=0åˆ©ç”¨ä¸€é˜¶æ³°å‹’å±•å¼€å¼è¯æ˜å³å¯ã€‚ æ³¨æ„ï¼š é©»ç‚¹ï¼ˆå¹³ç¨³ç‚¹ï¼‰æ˜¯ä¸€é˜¶å¯¼æ•°ä¸º â€‹ çš„ç‚¹ã€‚ æå¤§å€¼ã€æå°å€¼ã€éç‚¹éƒ½å¯èƒ½æ˜¯å¹³ç¨³ç‚¹ã€‚ äºŒé˜¶å¿…è¦æ¡ä»¶ï¼ˆSONCï¼‰äºŒé˜¶å¿…è¦æ¡ä»¶ï¼šè®¾ äºŒé˜¶è¿ç»­å¯å¾®ã€‚å¦‚æœ æ˜¯å±€éƒ¨æå°ç‚¹ï¼Œåˆ™ abla f(\\boldsymbol{x}^*)=0\\text{ä¸”} abla^2f(\\boldsymbol{x}^*)\\text{æ˜¯åŠæ­£å®š}è¯æ˜ï¼šå¦‚æœéåŠæ­£å®šï¼Œåˆ™å­˜åœ¨ ï¼Œä½¿å¾— ï¼Œç„¶åç”¨äºŒé˜¶æ³°å‹’å±•å¼€å³å¯ã€‚ äºŒé˜¶å……åˆ†æ¡ä»¶ï¼ˆSOSCï¼‰è®¾ äºŒé˜¶è¿ç»­å¯å¾®ã€‚å¦‚æœç‚¹ æ»¡è¶³ ä¸” æ­£å®šï¼Œåˆ™ \\boldsymbol{x}^* \\text{æ˜¯ä¸€ä¸ªä¸¥æ ¼æå°ç‚¹}è¯æ˜ï¼šæ ¹æ®æ³°å‹’çº§æ•°ï¼Œé¢†åŸŸå†…ä»»æ„ä¸€ä¸ªå€¼éƒ½è¦æ¯”å®ƒæ›´å¤§ï¼Œå³ f(x^*+\\alpha d^*)=f(x^*)+\\frac12\\alpha^2d^T abla^2f(x^*)d+o(\\alpha^2)>f(x^*)æ³¨æ„ï¼šSOSCä¸æ˜¯å¿…è¦æ¡ä»¶ã€‚ å‡¸å‡½æ•°æœ€ä¼˜æ€§æ¡ä»¶å‡¸ä¼˜åŒ–èƒ½ä¿è¯é©»ç‚¹ä¸ºå±€éƒ¨æå°ç‚¹ï¼Œä¹Ÿå°±æ˜¯å…¨å±€æå°ç‚¹ã€‚ æ—  çº¦ æŸ å‡¸ ä¼˜ åŒ– : è®¾ å‡¸ å‡½ æ•° åœ¨ä¸Šè¿ç»­å¯å¾®ï¼Œåˆ™å­˜åœ¨ ä½¿å¾— æ˜¯å…¨å±€æœ€ä¼˜è§£ã€‚ è¯æ˜ï¼š æ ¹æ®å‡¸å‡½æ•°æ€§è´¨ï¼Œå¯¹äºä»»æ„ç‚¹,æœ‰ f(x)-f(x^*)\\geq abla f(x^*)(x-x^*)=0å› æ­¤ã€‚ æ˜¯å…¨å±€æœ€ä¼˜è§£ æ˜¯å…¨å±€æœ€ä¼˜è§£ï¼Œåˆ™å¿…ç„¶ä¹Ÿæ˜¯å±€éƒ¨æœ€ä¼˜è§£ï¼Œç”±FONCå¯å¾— â€‹ã€‚ ä¸‹é™æ³•éš¾ä»¥æ±‚è§£ è·å¾—å¹³ç¨³ç‚¹æ—¶ï¼Œé‡‡ç”¨æ›´å¸¸è§çš„æ— çº¦æŸæ±‚è§£æ–¹æ³•ï¼šä¸‹é™ç®—æ³• æ­¥éª¤ï¼š é¦– å…ˆ ç¡® å®š ç›® æ ‡ å‡½ æ•° çš„ æ å° ç‚¹ çš„ ä¸€ ä¸ª åˆ å§‹ ä¼° è®¡ : â€‹ã€‚ ç„¶åæŒ‰ç…§ä¸€å®šè§„åˆ™äº§ç”Ÿä¸€ä¸ªä¸‹é™æ–¹å‘ ã€‚ å†æ²¿æ–¹å‘ ï¼Œæ±‚å¾—ä¸‹ä¸€ä¸ªè¿­ä»£ç‚¹ å³åœ¨å°„çº¿ ä¸Šç¡®å®šä¸€ä¸ªæ–°ç‚¹ï¼š ï¼Œä½¿å¾— ï¼Œå…¶ä¸­ ç§°ä¸ºæ­¥é•¿å› å­ã€‚ è‹¥æ»¡è¶³åœæœºæ¡ä»¶åˆ™è¾“å‡º ï¼Œå¦åˆ™ ï¼Œè½¬åˆ°ç¬¬äºŒæ­¥ æ³¨æ„ï¼šæœºå™¨å­¦ä¹ ä¸­ ä¹Ÿå¸¸å¸¸è¢«ç§°ä¸ºå­¦ä¹ ç‡ã€‚ ä¸‹é™æ–¹å‘ä¸‹é™æ–¹å‘ï¼šè®¾å‡½æ•° ï¼Œç‚¹ å’ŒæŸä¸ªå‘é‡ ï¼Œå¦‚æœå­˜åœ¨ ï¼Œä½¿å¾— ï¼Œåˆ™ ä¸ºä¸‹é™æ–¹å‘ã€‚ç”±æ³°å‹’å±•å¼€å¼ï¼Œå³å­˜åœ¨ ä½¿å¾— f(x^{(k)}+\\alpha d)=f(x^{(k)})+\\alpha abla f\\left(x^{(k)}\\right)^Td"},{"title":"æœ‰çº¦æŸä¼˜åŒ–","path":"/wiki/æœ€ä¼˜åŒ–ç®—æ³•/æœ‰çº¦æŸä¼˜åŒ–.html","content":"æœ‰çº¦æŸä¼˜åŒ–å½¢å¼ï¼š \\min f(\\boldsymbol{x})\\\\s.t. h_i(\\boldsymbol{x})=0,\\quad i=1,...,m\\\\g_j(\\boldsymbol{x})\\leq0,\\quad j=1,...,p,å¯¹å¶ç†è®ºå¼±å¯¹å¶å®šç†(Weak duality)ï¼šè®¾ä¸ºåŸä¼˜åŒ–é—®é¢˜çš„æœ€å°å€¼ä¸ºæ‹‰æ ¼æœ—æ—¥å¯¹å¶å‡½æ•°ï¼Œåˆ™ \\forall\\boldsymbol{\\lambda},\\boldsymbol{\\mu}\\geq0,o^*\\geq d(\\boldsymbol{\\lambda},\\boldsymbol{\\mu})æ‹‰æ ¼æœ—æ—¥å‡½æ•°ï¼ˆLagrangianï¼‰æ€æƒ³ï¼šå°†çº¦æŸå‡½æ•°ä»¥çº¿æ€§åŠ æƒçš„å½¢å¼ åŠ å…¥ç›®æ ‡å‡½æ•°ï¼Œå¾—åˆ°çš„å‡½æ•°ï¼š L(\\boldsymbol{x},\\boldsymbol{\\lambda},\\boldsymbol{\\mu})=f(\\boldsymbol{x})+\\sum_{i=1}^m\\lambda_i h_i(\\boldsymbol{x})+\\sum_{j=1}^p\\mu_jg_j(\\boldsymbol{x})æˆ–è€… L(x,\\lambda,\\mu)=f(x)+\\lambda^Th(x)+\\mu^Tg(x)å…¶ä¸­ ï¼Œ å’Œ ç§°ä¸ºæ‹‰æ ¼æœ—æ—¥ä¹˜å­ã€‚ æ‹‰æ ¼æœ—æ—¥å¯¹å¶å‡½æ•°ï¼ˆLagrange dual functionï¼‰ d(\\lambda,\\mu)=\\min_{x\\in\\mathbb{R}^n}L(x,\\lambda,\\mu)=\\min_{x\\in\\mathbb{R}^n}f(x)+\\sum_{i=1}^m\\lambda_ih_i(x)+\\sum_{j=1}^p\\mu_jg_j(x)å¼±å¯¹å¶å®šç†ï¼šè®¾ ä¸ºåŸä¼˜åŒ–é—®é¢˜çš„æœ€å°å€¼ ä¸ºæ‹‰æ ¼æœ—æ—¥å¯¹å¶å‡½æ•°ï¼Œåˆ™ \\forall\\lambda,\\mu\\geq0,o^*\\geq d(\\lambda,\\mu)è¯æ˜ï¼šå› ä¸ºåé¢ä¸¤é¡¹ä¹‹å’Œä¸€å®š â€¦â€¦ æ˜¯ä¸€ä¸ªå…³äº çš„å‡¹å‡½æ•° ã€‚( â€‹åœ¨å‡ ä½•ä¸Šæ˜¯ä¸€ç³»åˆ—ä»¿å°„å‡½æ•°çš„æå°å€¼ã€‚) äºæ˜¯å¯ä»¥å°†åŸé—®é¢˜è½¬åŒ–æˆ \\max_{\\lambda,\\mu\\geq0}d(\\lambda,\\mu)=\\max_{\\lambda,\\mu\\geq0}\\min_{x\\in\\mathbb{R}^n}L(x,\\lambda,\\mu)ç”±äºå‡¹æ€§+maxï¼Œäºæ˜¯è½¬åŒ–æˆäº†ä¸€ä¸ªå…³äº çš„å‡¸ä¼˜åŒ–é—®é¢˜ã€‚ è¯¥é—®é¢˜ç§°ä¸ºåŸé—®é¢˜å¯¹å¶é—®é¢˜ ï¼ˆï¼‰ç§°ä¸ºå¯¹å¶å˜é‡ ç§°ä¸ºå¯¹å¶é—´éš™ï¼Œå¯¹å¶é—´éš™ä¸º0æ—¶ï¼Œä¸¤ä¸ªé—®é¢˜æœ‰ç›¸åŒçš„æœ€ä¼˜å€¼ï¼Œç§°ä¸ºå¼ºå¯¹å¶æ€§æˆç«‹ã€‚ ä»…æœ‰çº¿æ€§ä¸ç­‰å¼çº¦æŸçš„å‡¸ä¼˜åŒ–é—®é¢˜å¯¹å¶é—´éš™ä¸º0 å¤§éƒ¨åˆ†å‡¸ä¼˜åŒ–é—®é¢˜çš„å¯¹å¶é—´éš™ä¸º0 ä»…å«ç­‰å¼çº¦æŸé—®é¢˜ï¼ˆæ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ï¼‰ \\min f(\\boldsymbol{x})\\\\s.t. h_i(\\boldsymbol{x})=0,\\quad i=1,...,mæ‹‰æ ¼æœ—æ—¥å®šç†æ­£åˆ™ç‚¹å¯¹äºæ»¡è¶³çš„ç‚¹ ï¼Œå¦‚æœæ¢¯åº¦å‘é‡ æ˜¯çº¿æ€§æ— å…³çš„ï¼Œé‚£ä¹ˆç§° æ˜¯è¯¥çº¦æŸæ¡ä»¶çš„ä¸€ä¸ªæ­£åˆ™ç‚¹ã€‚ ç­‰ä»·äºï¼šé›…å¯æ¯”çŸ©é˜µ æ»¡ç§©ï¼ˆâ€‹ï¼‰ï¼Œ ã€‚ æ‹‰æ ¼æœ—æ—¥å®šç†å¦‚æœ æ˜¯ä¼˜åŒ–é—®é¢˜min s.t. ä¸”çš„æå°å€¼ï¼Œä¸” æ˜¯æ­£åˆ™ç‚¹ï¼Œé‚£ä¹ˆä¸€å®šå­˜åœ¨å‘é‡ ï¼Œä½¿å¾— ã€‚ æ¢å¥è¯è¯´ï¼šå¦‚æœ æ˜¯æå€¼ç‚¹ï¼Œé‚£ä¹ˆç›®æ ‡å‡½æ•° åœ¨ çš„æ¢¯åº¦å¯ä»¥è¡¨ç¤ºä¸ºçº¦æŸå‡½æ•°åœ¨è¯¥ç‚¹å¤„çš„æ¢¯åº¦çš„çº¿æ€§ç»„åˆã€‚ ç­‰åŒäºæ— çº¦æŸä¼˜åŒ–é—®é¢˜ï¼š çš„ä¸€é˜¶å¿…è¦æ¡ä»¶ã€‚ \\begin{cases} abla_xL(x^*,\\lambda)= abla f(x^*)+\\sum_{\\mathrm{i}=1}^\\mathrm{m}\\lambda_i abla h_i(x^*)=0\\\\ abla_{\\lambda_i}L(x^*,\\lambda)=h_i(x^*)=0\\mathrm{~}\\forall i=1,...,m&\\end{cases}æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•é€šè¿‡æ±‚è§£ä¸Šé¢çš„æ–¹ç¨‹ç»„ï¼Œæ‰¾åˆ°æå€¼ç‚¹ã€‚å…¶ä¸­æ–¹ç¨‹ç»„åŒ…å« ä¸ªæ–¹ç¨‹å’Œ â€‹ ä¸ªæœªçŸ¥æ•°ã€‚ ä¸€èˆ¬çº¦æŸé—®é¢˜ï¼ˆKKTï¼‰ \\min f(\\boldsymbol{x})\\\\s.t. h_i(\\boldsymbol{x})=0,\\quad i=1,...,m\\\\g_j(\\boldsymbol{x})\\leq0,\\quad j=1,...,p,ç­‰å¼çº¦æŸä¸­æ‹‰æ ¼æœ—æ—¥å®šç†çš„æˆç«‹æ¡ä»¶è¦æ±‚ æ˜¯ä¸€ä¸ªæ­£åˆ™ç‚¹ï¼Œå«ä¸ç­‰å¼çº¦æŸä¸­ä¹Ÿè¦ä¿è¯æå€¼ç‚¹æ˜¯ä¸€ä¸ªæ­£åˆ™ç‚¹ã€‚ èµ·ä½œç”¨çš„çº¦æŸå’Œä¸èµ·ä½œç”¨çš„çº¦æŸèµ·ä½œç”¨çš„çº¦æŸï¼š å¯¹äºä¸ç­‰å¼çº¦æŸ ï¼Œå¦‚æœç‚¹ å¤„ ï¼Œé‚£ä¹ˆç§°è¯¥ä¸ç­‰å¼æ˜¯ å¤„èµ·ä½œç”¨çš„çº¦æŸï¼›å¦‚æœ å¤„ ï¼Œåˆ™ç§°ä¸ºä¸èµ·ä½œç”¨çš„çº¦æŸã€‚ æ­£åˆ™ç‚¹å¦‚æœ $ abla h_i(x^), abla g_j(x^{\\}),1\\le i\\le m, j\\in\\{j:g_j(x^{*})=0\\}æ˜¯çº¿æ€§æ— å…³ï¼Œåˆ™ç§°x^{*}$ æ˜¯ä¸€ä¸ªæ­£åˆ™ç‚¹ã€‚ å³ï¼šç­‰å¼çº¦æŸ+èµ·ä½œç”¨çš„ä¸ç­‰å¼çº¦æŸçš„æ¢¯åº¦çº¿æ€§æ— å…³ã€‚ KKTå®šç†è®¾ ä¸€é˜¶è¿ç»­å¯å¾®ï¼Œ æ˜¯æ­£åˆ™ç‚¹ä¸”å±€éƒ¨æå°ç‚¹ï¼Œé‚£ä¹ˆå¿…ç„¶å­˜åœ¨ å’Œ ï¼Œä½¿å¾—ä»¥ä¸‹æ¡ä»¶æˆç«‹ã€‚ bbbå¯¹äºä¸èµ·ä½œç”¨çš„çº¦æŸï¼Œ ä¸€å®šæˆç«‹ï¼Œå¯¹äºèµ·ä½œç”¨çš„çº¦æŸï¼Œ ã€‚ KKTæ¡ä»¶ä¸»è¦æ˜¯åˆ†ç±»è®¨è®ºã€‚ ï¼ˆæ‹‰æ ¼æœ—æ—¥æ¡ä»¶ï¼‰ ï¼ˆäº’è¡¥æ¾å¼›æ¡ä»¶ï¼‰ çº¦æŸé—®é¢˜çš„æ±‚è§£ç®—æ³• æŠ•å½±æ³• ç½šå‡½æ•°æ³•ï¼ˆæˆ–å¤–ç‚¹æ³•ï¼Œæ±‚è§£ç­‰å¼ä¸ç­‰å¼çº¦æŸä¼˜åŒ–é—®é¢˜ï¼‰ å†…ç‚¹æ³•ï¼ˆæˆ–éšœç¢å‡½æ•°æ³•ï¼Œæ±‚è§£ä¸ç­‰å¼çº¦æŸä¼˜åŒ–é—®é¢˜ï¼‰ æŠ•å½±æ³•æŠ•å½±æ³•ä¸€èˆ¬å°†å¯è¡ŒåŸŸ å†…â€œç¦» æœ€è¿‘çš„ç‚¹â€å®šä¹‰ ï¼Œå³æ±‚ ã€‚"}]